"document"in self&&!("classList"in document.createElement("_"))&&function(e){if(!("Element"in e))return;var t="classList",n="prototype",r=e.Element[n],i=Object,s=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(t in this&&this[t]===e)return t;return-1},u=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(t==="")throw new u("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new u("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},f=function(e){var t=s.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,i=n.length;for(;r<i;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=f[n]=[],c=function(){return new f(this)};u[n]=Error[n],l.item=function(e){return this[e]||null},l.contains=function(e){return e+="",a(this,e)!==-1},l.add=function(){var e=arguments,t=0,n=e.length,r,i=!1;do r=e[t]+"",a(this,r)===-1&&(this.push(r),i=!0);while(++t<n);i&&this._updateClassName()},l.remove=function(){var e=arguments,t=0,n=e.length,r,i=!1;do{r=e[t]+"";var s=a(this,r);s!==-1&&(this.splice(s,1),i=!0)}while(++t<n);i&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),r=n?t!==!0&&"remove":t!==!1&&"add";return r&&this[r](e),!n},l.toString=function(){return this.join(" ")};if(i.defineProperty){var h={get:c,enumerable:!0,configurable:!0};try{i.defineProperty(r,t,h)}catch(p){p.number===-2146823252&&(h.enumerable=!1,i.defineProperty(r,t,h))}}else i[n].__defineGetter__&&r.__defineGetter__(t,c)}(self),this.Element&&function(e){e.matchesSelector=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){var t=this,n=(t.parentNode||t.document).querySelectorAll(e),r=-1;while(n[++r]&&n[r]!=t);return!!n[r]}}(Element.prototype),this.MutationObserver=this.MutationObserver||this.WebKitMutationObserver||function(e){function t(e){this._watched=[],this._listener=e}function n(e){(function n(){var r=e.takeRecords();r.length&&e._listener(r,e),e._timeout=setTimeout(n,t._period)})()}function r(t){var n={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(var r in t)v(n,r)&&t[r]!==e&&(n[r]=t[r]);return n}function i(e,t){var n=u(e,t);return function(r){var i=r.length;t.attr&&n.attr&&s(r,e,n.attr,t.afilter),(t.kids||t.descendents)&&o(r,e,n,t),r.length!==i&&(n=u(e,t))}}function s(e,t,n,i){var s={},o=t.attributes,u,a,f=o.length;while(f--){u=o[f],a=u.name;if(!i||v(i,a))u.value!==n[a]&&e.push(r({type:"attributes",target:t,attributeName:a,oldValue:n[a],attributeNamespace:u.namespaceURI})),s[a]=!0}for(a in n)s[a]||e.push(r({target:t,type:"attributes",attributeName:a,oldValue:n[a]}))}function o(e,t,n,i){function o(t,n,o,a,f){var l=t.length-1,c=-~((l-f)/2),h,p,d;while(d=t.pop())h=o[d.i],p=a[d.j],i.kids&&c&&Math.abs(d.i-d.j)>=l&&(e.push(r({type:"childList",target:n,addedNodes:[h],removedNodes:[h],nextSibling:h.nextSibling,previousSibling:h.previousSibling})),c--),i.attr&&p.attr&&s(e,h,p.attr,i.afilter),i.charData&&h.nodeType===3&&h.nodeValue!==p.charData&&e.push(r({type:"characterData",target:h,oldValue:p.charData})),i.descendents&&u(h,p)}function u(t,n){var f=t.childNodes,l=n.kids,h=f.length,p=l?l.length:0,v,m,g,y,b,w,E,S=0,x=0,T=0;while(x<h||T<p)w=f[x],b=l[T],E=b&&b.node,w===E?(i.attr&&b.attr&&s(e,w,b.attr,i.afilter),i.charData&&w.nodeType===3&&w.nodeValue!==b.charData&&e.push(r({type:"characterData",target:w,oldValue:b.charData})),m&&o(m,t,f,l,S),i.descendents&&(w.childNodes.length||b.kids&&b.kids.length)&&u(w,b),x++,T++):(v||(v={},m=[]),w&&(v[g=c(w)]||(v[g]=!0,(y=a(l,w,T))===-1?i.kids&&(e.push(r({type:"childList",target:t,addedNodes:[w],nextSibling:w.nextSibling,previousSibling:w.previousSibling})),S++):m.push({i:x,j:y})),x++),E&&E!==f[x]&&(v[g=c(E)]||(v[g]=!0,(y=d(f,E,x))===-1?i.kids&&(e.push(r({type:"childList",target:n.node,removedNodes:[E],nextSibling:l[T+1],previousSibling:l[T-1]})),S--):m.push({i:y,j:T})),T++));m&&o(m,t,f,l,S)}u(t,n)}function u(e,t){var n=!0;return function r(e){var i=e.nodeType===3,s={node:e};return i||e.nodeType===8?i&&t.charData&&(s.charData=e.nodeValue):(t.attr&&n&&(s.attr=p(e.attributes,function(e,n){if(!t.afilter||t.afilter[n.name])e[n.name]=n.value;return e},{})),n&&(t.kids||t.charData||t.attr&&t.descendents)&&(s.kids=h(e.childNodes,r)),n=t.descendents),s}(e)}function a(e,t,n){return d(e,t,n,m("node"))}function c(e){try{return e.id||(e[l]=e[l]||f++)}catch(t){try{return e.nodeValue}catch(n){return f++}}}function h(e,t){var n=[];for(var r=0;r<e.length;r++)n[r]=t(e[r],r,e);return n}function p(e,t,n){for(var r=0;r<e.length;r++)n=t(n,e[r],r,e);return n}function d(e,t,n,r){for(;n<e.length;n++)if((r?e[n][r]:e[n])===t)return n;return-1}function v(t,n){return t[n]!==e}function m(e){return e}t._period=30,t.prototype={observe:function(e,t){var r={attr:!!(t.attributes||t.attributeFilter||t.attributeOldValue),kids:!!t.childList,descendents:!!t.subtree,charData:!!t.characterData||!!t.characterDataOldValue},s=this._watched;for(var o=0;o<s.length;o++)s[o].tar===e&&s.splice(o,1);t.attributeFilter&&(r.afilter=p(t.attributeFilter,function(e,t){return e[t]=!0,e},{})),s.push({tar:e,fn:i(e,r)}),this._timeout||n(this)},takeRecords:function(){var e=[],t=this._watched;for(var n=0;n<t.length;n++)t[n].fn(e);return e},disconnect:function(){this._watched=[],clearTimeout(this._timeout),this._timeout=null}};var f=1,l="mo_id";return t}(void 0),function(e,t,n,r){function i(e,t){for(var n=0,r=e.length;n<r;n++)h(e[n],t)}function s(e){for(var t=0,n=e.length,r;t<n;t++)r=e[t],c(r,w[u(r)])}function o(e){return function(t){C.call(j,t)&&(h(t,e),i(t.querySelectorAll(E),e))}}function u(e){var t=e.getAttribute("is");return x.call(b,t?t.toUpperCase():e.nodeName)}function a(e){var t=e.currentTarget,n=e.attrChange,r=e.prevValue,i=e.newValue;t.attributeChangedCallback&&e.attrName!=="style"&&t.attributeChangedCallback(e.attrName,n===e.ADDITION?null:r,n===e.REMOVAL?null:i)}function f(e){var t=o(e);return function(e){t(e.target)}}function l(e,t){var n=this;I.call(n,e,t),X.call(n,{target:n})}function c(e,t){P(e,t),J?J.observe(e,R):(W&&(e.setAttribute=l,e[p]=$(e),e.addEventListener(m,X)),e.addEventListener(v,a)),e.createdCallback&&(e.created=!0,e.createdCallback(),e.created=!1)}function h(e,t){var n,r=u(e),i="attached",s="detached";-1<r&&(H(e,w[r]),r=0,t===i&&!e[i]?(e[s]=!1,e[i]=!0,r=1):t===s&&!e[s]&&(e[i]=!1,e[s]=!0,r=1),r&&(n=e[t+"Callback"])&&n.call(e))}if(r in t)return;var p="__"+r+(Math.random()*1e5>>0),d="extends",v="DOMAttrModified",m="DOMSubtreeModified",g=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,y=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],b=[],w=[],E="",S=t.documentElement,x=b.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},T=n.prototype,N=T.hasOwnProperty,C=T.isPrototypeOf,k=n.defineProperty,L=n.getOwnPropertyDescriptor,A=n.getOwnPropertyNames,O=n.getPrototypeOf,M=n.setPrototypeOf,_=!!n.__proto__,D=n.create||function K(e){return e?(K.prototype=e,new K):this},P=M||(_?function(e,t){return e.__proto__=t,e}:A&&L?function(){function e(e,t){for(var n,r=A(t),i=0,s=r.length;i<s;i++)n=r[i],N.call(e,n)||k(e,n,L(t,n))}return function(t,n){do e(t,n);while(n=O(n));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),H=M||_?function(e,t){C.call(t,e)||c(e,t)}:function(e,t){e[p]||(e[p]=n(!0),c(e,t))},B=e.MutationObserver||e.WebKitMutationObserver,j=(e.HTMLElement||e.Element||e.Node).prototype,F=j.cloneNode,I=j.setAttribute,q=t.createElement,R=B&&{attributes:!0,characterData:!0,attributeOldValue:!0},U=B||function(e){W=!1,S.removeEventListener(v,U)},z=!1,W=!0,X,V,$,J;B||(S.addEventListener(v,U),S.setAttribute(p,1),S.removeAttribute(p),W&&(X=function(e){var t=this,n,r,i;if(t===e.target){n=t[p],t[p]=r=$(t);for(i in r){if(!(i in n))return V(0,t,i,n[i],r[i],"ADDITION");if(r[i]!==n[i])return V(1,t,i,n[i],r[i],"MODIFICATION")}for(i in n)if(!(i in r))return V(2,t,i,n[i],r[i],"REMOVAL")}},V=function(e,t,n,r,i,s){var o={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};o[s]=e,a(o)},$=function(e){for(var t,n,r={},i=e.attributes,s=0,o=i.length;s<o;s++)t=i[s],n=t.name,n!=="setAttribute"&&(r[n]=t.value);return r})),t[r]=function(e,n){v=e.toUpperCase(),z||(z=!0,B?(J=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new B(function(r){for(var i,s,o=0,u=r.length;o<u;o++)i=r[o],i.type==="childList"?(n(i.addedNodes,e),n(i.removedNodes,t)):(s=i.target,s.attributeChangedCallback&&i.attributeName!=="style"&&s.attributeChangedCallback(i.attributeName,i.oldValue,s.getAttribute(i.attributeName)))})}(o("attached"),o("detached")),J.observe(t,{childList:!0,subtree:!0})):(t.addEventListener("DOMNodeInserted",f("attached")),t.addEventListener("DOMNodeRemoved",f("detached"))),t.addEventListener("readystatechange",function(e){i(t.querySelectorAll(E),"attached")}),t.createElement=function(e,n){var r,i=q.apply(t,arguments);return n&&i.setAttribute("is",e=n.toLowerCase()),r=x.call(b,e.toUpperCase()),-1<r&&c(i,w[r]),i},j.cloneNode=function(e){var t=F.call(this,!!e),n=u(t);return-1<n&&c(t,w[n]),e&&s(t.querySelectorAll(E)),t});if(-1<x.call(b,v))throw new Error("A "+e+" type is already registered");if(!g.test(v)||-1<x.call(y,v))throw new Error("The type "+e+" is invalid");var r=function(){return t.createElement(h,l&&v)},a=n||T,l=N.call(a,d),h=l?n[d]:v,p=b.push(v)-1,v;return E=E.concat(E.length?",":"",l?h+'[is="'+e.toLowerCase()+'"]':h),r.prototype=w[p]=N.call(a,"prototype")?a.prototype:D(j),i(t.querySelectorAll(E),"attached"),r}}(window,document,Object,"registerElement"),function(e,t){if(typeof define=="function"&&define.amd)define(["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if(typeof exports!="undefined"){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){var i=e.Backbone,s=[],o=s.slice;t.VERSION="1.1.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var u=t.Events={on:function(e,t,n){if(!f(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!f(this,"once",e,[t,r])||!t)return this;var i=this,s=n.once(function(){i.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,r)},off:function(e,t,r){if(!this._events||!f(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;var i=e?[e]:n.keys(this._events);for(var s=0,o=i.length;s<o;s++){e=i[s];var u=this._events[e];if(!u)continue;if(!t&&!r){delete this._events[e];continue}var a=[];for(var l=0,c=u.length;l<c;l++){var h=u[l];(t&&t!==h.callback&&t!==h.callback._callback||r&&r!==h.context)&&a.push(h)}a.length?this._events[e]=a:delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!f(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&l(n,t),r&&l(r,arguments),this},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var s=!t&&!r;!r&&typeof t=="object"&&(r=this),e&&((i={})[e._listenId]=e);for(var o in i)e=i[o],e.off(t,r,this),(s||n.isEmpty(e._events))&&delete this._listeningTo[o];return this}},a=/\s+/,f=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(a.test(n)){var s=n.split(a);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},l=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}},c={listenTo:"on",listenToOnce:"once"};n.each(c,function(e,t){u[t]=function(t,r,i){var s=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=n.uniqueId("l"));return s[o]=t,!i&&typeof r=="object"&&(i=this),t[e](r,i,this),this}}),u.bind=u.on,u.unbind=u.off,n.extend(t,u);var h=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(h.prototype,u,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,r){var i,s,o,u,a,f,l,c;if(e==null)return this;typeof e=="object"?(s=e,r=t):(s={})[e]=t,r||(r={});if(!this._validate(s,r))return!1;o=r.unset,a=r.silent,u=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=n.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)t=s[i],n.isEqual(c[i],t)||u.push(i),n.isEqual(l[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete c[i]:c[i]=t;if(!a){u.length&&(this._pending=r);for(var h=0,p=u.length;h<p;h++)this.trigger("change:"+u[h],this,c[u[h]],r)}if(f)return this;if(!a)while(this._pending)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in e){if(n.isEqual(i[s],t=e[s]))continue;(r||(r={}))[s]=t}return r},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){if(!t.set(t.parse(n,e),e))return!1;r&&r(t,n,e),t.trigger("sync",t,n,e)},P(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,s,o,u=this.attributes;e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r);if(i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},u,i)),r.parse===void 0&&(r.parse=!0);var a=this,f=r.success;return r.success=function(e){a.attributes=u;var t=a.parse(e,r);r.wait&&(t=n.extend(i||{},t));if(n.isObject(t)&&!a.set(t,r))return!1;f&&f(a,e,r),a.trigger("sync",a,e,r)},P(this,r),s=this.isNew()?"create":r.patch?"patch":"update",s==="patch"&&!r.attrs&&(r.attrs=i),o=this.sync(s,this,r),i&&r.wait&&(this.attributes=u),o},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)};if(this.isNew())return e.success(),!1;P(this,e);var s=this.sync("delete",this,e);return e.wait||i(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||D();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit","chain","isEmpty"];n.each(p,function(e){if(!n[e])return;h.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var d=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},v={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};n.extend(d.prototype,u,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,m))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e),t||(t={});for(var i=0,s=e.length;i<s;i++){var o=e[i]=this.get(e[i]);if(!o)continue;var u=this.modelId(o.attributes);u!=null&&delete this._byId[u],delete this._byId[o.cid];var a=this.indexOf(o);this.models.splice(a,1),this.length--,t.silent||(t.index=a,o.trigger("remove",o,this,t)),this._removeReference(o,t)}return r?e[0]:e},set:function(e,t){t=n.defaults({},t,v),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:e.slice();var i,s,o,u,a,f=t.at,l=this.comparator&&f==null&&t.sort!==!1,c=n.isString(this.comparator)?this.comparator:null,h=[],p=[],d={},m=t.add,g=t.merge,y=t.remove,b=!l&&m&&y?[]:!1;for(var w=0,E=e.length;w<E;w++){o=e[w];if(u=this.get(o))y&&(d[u.cid]=!0),g&&o!==u&&(o=this._isModel(o)?o.attributes:o,t.parse&&(o=u.parse(o,t)),u.set(o,t),l&&!a&&u.hasChanged(c)&&(a=!0)),e[w]=u;else if(m){s=e[w]=this._prepareModel(o,t);if(!s)continue;h.push(s),this._addReference(s,t)}s=u||s;if(!s)continue;i=this.modelId(s.attributes),b&&(s.isNew()||!d[i])&&b.push(s),d[i]=!0}if(y){for(var w=0,E=this.length;w<E;w++)d[(s=this.models[w]).cid]||p.push(s);p.length&&this.remove(p,t)}if(h.length||b&&b.length){l&&(a=!0),this.length+=h.length;if(f!=null)for(var w=0,E=h.length;w<E;w++)this.models.splice(f+w,0,h[w]);else{b&&(this.models.length=0);var S=b||h;for(var w=0,E=S.length;w<E;w++)this.models.push(S[w])}}a&&this.sort({silent:!0});if(!t.silent){var x=f!=null?n.clone(t):t;for(var w=0,E=h.length;w<E;w++)f!=null&&(x.index=f+w),(s=h[w]).trigger("add",s,this,x);(a||b&&b.length)&&this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;r<i;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(e==null)return void 0;var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},P(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_isModel:function(e){return e instanceof h},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);n!=null&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r);if(e==="change"){var i=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);i!==s&&(i!=null&&delete this._byId[i],s!=null&&(this._byId[s]=t))}this.trigger.apply(this,arguments)}});var g=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample","partition"];n.each(g,function(e){if(!n[e])return;d.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(e){if(!n[e])return;d.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var b=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,E)),this._ensureElement(),this.initialize.apply(this,arguments)},w=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,u,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[e[t]]);if(!r)continue;var i=t.match(w);this.delegate(i[1],i[2],n.bind(r,this))}return this},delegate:function(e,t,n){this.$el.on(e+".delegateEvents"+this.cid,t,n)},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){this.$el.off(e+".delegateEvents"+this.cid,t,n)},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}else this.setElement(n.result(this,"el"))},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var s=S[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||D()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1);var a=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,a&&a.apply(this,arguments)};var f=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,f,i),f};var S={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var x=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,C=/\*\w+/g,k=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(x.prototype,u,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(i,o,r)!==!1&&(s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),t.history.trigger("route",s,r,o))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(k,"\\$&").replace(T,"(?:$1)?").replace(N,function(e,t){return t?e:"([^/?]+)"}).replace(C,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var L=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},A=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,M=/#.*$/;L.started=!1,n.extend(L.prototype,u,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=decodeURI(this.location.pathname+this.getSearch()),t=this.root.slice(0,-1);return e.indexOf(t)||(e=e.slice(t.length)),e.slice(1)},getFragment:function(e){return e==null&&(this._hasPushState||!this._wantsHashChange?e=this.getPath():e=this.getHash()),e.replace(A,"")},start:function(e){if(L.started)throw new Error("Backbone.history has already been started");L.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState),this.fragment=this.getFragment();var t=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};this.root=("/"+this.root+"/").replace(O,"/");if(!this._hasHashChange&&this._wantsHashChange&&(!this._wantsPushState||!this._hasPushState)){var r=document.createElement("iframe");r.src="javascript:0",r.style.display="none",r.tabIndex=-1;var i=document.body;this.iframe=i.insertBefore(r,i.firstChild).contentWindow,this.navigate(this.fragment)}this._hasPushState?t("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&!this.iframe?t("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.location.replace(this.root+"#"+this.getPath()),!0;this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._hasPushState?e("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe.frameElement),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),L.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!L.started)return!1;if(!t||t===!0)t={trigger:!!t};var n=this.root+(e=this.getFragment(e||""));e=decodeURI(e.replace(M,""));if(this.fragment===e)return;this.fragment=e,e===""&&n!=="/"&&(n=n.slice(0,-1));if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe)&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new L;var _=function(e,t){var r=this,i;e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};h.extend=d.extend=x.extend=b.extend=L.extend=_;var D=function(){throw new Error('A "url" property or function must be specified')},P=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t});var requirejs,require,define;(function(global){function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){if(n||!hasProp(e,i))r&&typeof t=="object"&&t&&!isArray(t)&&!isFunction(t)&&!(t instanceof RegExp)?(e[i]||(e[i]={}),mixin(e[i],t,n,r)):e[i]=t}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function m(e){var t,n;for(t=0;t<e.length;t++){n=e[t];if(n===".")e.splice(t,1),t-=1;else if(n===".."){if(t===0||t==1&&e[2]===".."||e[t-1]==="..")continue;t>0&&(e.splice(t-1,2),t-=2)}}}function g(e,t,n){var r,i,s,u,a,f,l,c,h,p,d,v,g=t&&t.split("/"),y=o.map,b=y&&y["*"];e&&(e=e.split("/"),l=e.length-1,o.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),e[0].charAt(0)==="."&&g&&(v=g.slice(0,g.length-1),e=v.concat(e)),m(e),e=e.join("/"));if(n&&y&&(g||b)){s=e.split("/");e:for(u=s.length;u>0;u-=1){f=s.slice(0,u).join("/");if(g)for(a=g.length;a>0;a-=1){i=getOwn(y,g.slice(0,a).join("/"));if(i){i=getOwn(i,f);if(i){c=i,h=u;break e}}}!p&&b&&getOwn(b,f)&&(p=getOwn(b,f),d=u)}!c&&p&&(c=p,h=d),c&&(s.splice(0,h,c),e=s.join("/"))}return r=getOwn(o.pkgs,e),r?r:e}function y(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===r.contextName)return t.parentNode.removeChild(t),!0})}function b(e){var t=getOwn(o.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),r.require.undef(e),r.makeRequire(null,{skipMap:!0})([e]),!0}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e,t,n,i){var s,o,u,a,f=null,l=t?t.name:null,h=e,p=!0,m="";return e||(p=!1,e="_@r"+(d+=1)),a=w(e),f=a[0],e=a[1],f&&(f=g(f,l,i),o=getOwn(c,f)),e&&(f?o&&o.normalize?m=o.normalize(e,function(e){return g(e,l,i)}):m=e.indexOf("!")===-1?g(e,l,i):e:(m=g(e,l,i),a=w(m),f=a[0],m=a[1],n=!0,s=r.nameToUrl(m))),u=f&&!o&&!n?"_unnormalized"+(v+=1):"",{prefix:f,name:m,parentMap:t,unnormalized:!!u,url:s,originalName:h,isDefine:p,id:(f?f+"!"+m:m)+u}}function S(e){var t=e.id,n=getOwn(u,t);return n||(n=u[t]=new r.Module(e)),n}function x(e,t,n){var r=e.id,i=getOwn(u,r);hasProp(c,r)&&(!i||i.defineEmitComplete)?t==="defined"&&n(c[r]):(i=S(e),i.error&&t==="error"?n(i.error):i.on(t,n))}function T(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(u,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function N(){globalDefQueue.length&&(apsp.apply(l,[l.length,0].concat(globalDefQueue)),globalDefQueue=[])}function C(e){delete u[e],delete a[e]}function k(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var s=r.id,o=getOwn(u,s);o&&!e.depMatched[i]&&!n[s]&&(getOwn(t,s)?(e.defineDep(i,c[s]),e.check()):k(o,t,n))}),n[r]=!0)}function L(){var e,n,i=o.waitSeconds*1e3,u=i&&r.startTime+i<(new Date).getTime(),f=[],l=[],c=!1,h=!0;if(t)return;t=!0,eachProp(a,function(e){var t=e.map,r=t.id;if(!e.enabled)return;t.isDefine||l.push(e);if(!e.error)if(!e.inited&&u)b(r)?(n=!0,c=!0):(f.push(r),y(r));else if(!e.inited&&e.fetched&&t.isDefine){c=!0;if(!t.prefix)return h=!1}});if(u&&f.length)return e=makeError("timeout","Load timeout for modules: "+f,null,f),e.contextName=r.contextName,T(e);h&&each(l,function(e){k(e,{},{})}),(!u||n)&&c&&(isBrowser||isWebWorker)&&!s&&(s=setTimeout(function(){s=0,L()},50)),t=!1}function A(e){hasProp(c,e[0])||S(E(e[0],null,!0)).init(e[1],e[2])}function O(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function M(e){var t=e.currentTarget||e.srcElement;return O(t,r.onScriptLoad,"load","onreadystatechange"),O(t,r.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function _(){var e;N();while(l.length){e=l.shift();if(e[0]===null)return T(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));A(e)}}var t,n,r,i,s,o={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},u={},a={},f={},l=[],c={},h={},p={},d=1,v=1;return i={require:function(e){return e.require?e.require:e.require=r.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?c[e.map.id]=e.exports:e.exports=c[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(o.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},n=function(e){this.events=getOwn(f,e.id)||{},this.map=e,this.shim=getOwn(o.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},n.prototype={init:function(e,t,n,r){r=r||{};if(this.inited)return;this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check()},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(this.fetched)return;this.fetched=!0,r.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();r.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))},load:function(){var e=this.map.url;h[e]||(h[e]=!0,r.load(this.map.id,e))},check:function(){if(!this.enabled||this.enabling)return;var e,t,n=this.map.id,i=this.depExports,s=this.exports,o=this.factory;if(!this.inited)this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{s=r.execCb(n,o,i,s)}catch(u){e=u}else s=r.execCb(n,o,i,s);this.map.isDefine&&s===undefined&&(t=this.module,t?s=t.exports:this.usingExports&&(s=this.exports));if(e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",T(this.error=e)}else s=o;this.exports=s,this.map.isDefine&&!this.ignore&&(c[n]=s,req.onResourceLoad&&req.onResourceLoad(r,this.map,this.depMaps)),C(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}},callPlugin:function(){var e=this.map,t=e.id,n=E(e.prefix);this.depMaps.push(n),x(n,"defined",bind(this,function(n){var i,s,a,f=getOwn(p,this.map.id),l=this.map.name,c=this.map.parentMap?this.map.parentMap.name:null,h=r.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){n.normalize&&(l=n.normalize(l,function(e){return g(e,c,!0)})||""),s=E(e.prefix+"!"+l,this.map.parentMap),x(s,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),a=getOwn(u,s.id),a&&(this.depMaps.push(s),this.events.error&&a.on("error",bind(this,function(e){this.emit("error",e)})),a.enable());return}if(f){this.map.url=r.nameToUrl(f),this.load();return}i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(u,function(e){e.map.id.indexOf(t+"_unnormalized")===0&&C(e.map.id)}),T(e)}),i.fromText=bind(this,function(n,s){var u=e.name,a=E(u),f=useInteractive;s&&(n=s),f&&(useInteractive=!1),S(a),hasProp(o.config,t)&&(o.config[u]=o.config[t]);try{req.exec(n)}catch(l){return T(makeError("fromtexteval","fromText eval for "+t+" failed: "+l,l,[t]))}f&&(useInteractive=!0),this.depMaps.push(a),r.completeLoad(u),h([u],i)}),n.load(e.name,h,i,o)})),r.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){a[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,s,o;if(typeof e=="string"){e=E(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(i,e.id);if(o){this.depExports[t]=o(this);return}this.depCount+=1,x(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&x(e,"error",bind(this,this.errback))}n=e.id,s=u[n],!hasProp(i,n)&&s&&!s.enabled&&r.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(u,e.id);t&&!t.enabled&&r.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),e==="error"&&delete this.events[e]}},r={config:o,contextName:e,registry:u,defined:c,urlFetched:h,defQueue:l,Module:n,makeModuleMap:E,nextTick:req.nextTick,onError:T,configure:function(e){e.baseUrl&&e.baseUrl.charAt(e.baseUrl.length-1)!=="/"&&(e.baseUrl+="/");var t=o.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(o[t]||(o[t]={}),mixin(o[t],e,!0,!0)):o[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(p[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=r.makeShimExports(e)),t[n]=e}),o.shim=t),e.packages&&each(e.packages,function(e){var t,n;e=typeof e=="string"?{name:e}:e,n=e.name,t=e.location,t&&(o.paths[n]=e.location),o.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(u,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=E(t))}),(e.deps||e.callback)&&r.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){function s(o,a,f){var l,h,p;return n.enableBuildCallback&&a&&isFunction(a)&&(a.__requireJsBuild=!0),typeof o=="string"?isFunction(a)?T(makeError("requireargs","Invalid require call"),f):t&&hasProp(i,o)?i[o](u[t.id]):req.get?req.get(r,o,t,s):(h=E(o,t,!1,!0),l=h.id,hasProp(c,l)?c[l]:T(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(_(),r.nextTick(function(){_(),p=S(E(null,t)),p.skipMap=n.skipMap,p.init(o,a,f,{enabled:!0}),L()}),s)}return n=n||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var n,i=e.lastIndexOf("."),s=e.split("/")[0],o=s==="."||s==="..";return i!==-1&&(!o||i>1)&&(n=e.substring(i,e.length),e=e.substring(0,i)),r.nameToUrl(g(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(c,E(e,t,!1,!0).id)},specified:function(e){return e=E(e,t,!1,!0).id,hasProp(c,e)||hasProp(u,e)}}),t||(s.undef=function(e){N();var n=E(e,t,!0),r=getOwn(u,e);y(e),delete c[e],delete h[n.url],delete f[e],eachReverse(l,function(t,n){t[0]===e&&l.splice(n,1)}),r&&(r.events.defined&&(f[e]=r.events),C(e))}),s},enable:function(e){var t=getOwn(u,e.id);t&&S(e).enable()},completeLoad:function(e){var t,n,r,i=getOwn(o.shim,e)||{},s=i.exports;N();while(l.length){n=l.shift();if(n[0]===null){n[0]=e;if(t)break;t=!0}else n[0]===e&&(t=!0);A(n)}r=getOwn(u,e);if(!t&&!hasProp(c,e)&&r&&!r.inited){if(o.enforceDefine&&(!s||!getGlobal(s))){if(b(e))return;return T(makeError("nodefine","No define call for "+e,null,[e]))}A([e,i.deps||[],i.exportsFn])}L()},nameToUrl:function(e,t,n){var i,s,u,a,f,l,c,h=getOwn(o.pkgs,e);h&&(e=h),c=getOwn(p,e);if(c)return r.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))f=e+(t||"");else{i=o.paths,s=e.split("/");for(u=s.length;u>0;u-=1){a=s.slice(0,u).join("/"),l=getOwn(i,a);if(l){isArray(l)&&(l=l[0]),s.splice(0,u,l);break}}f=s.join("/"),f+=t||(/^data\:|\?/.test(f)||n?"":".js"),f=(f.charAt(0)==="/"||f.match(/^[\w\+\.\-]+:/)?"":o.baseUrl)+f}return o.urlArgs?f+((f.indexOf("?")===-1?"?":"&")+o.urlArgs):f},load:function(e,t){req.load(r,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=M(e);r.completeLoad(t.id)}},onScriptError:function(e){var t=M(e);if(!b(t.id))return T(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},r.require=r.makeRequire(),r}function getInteractiveScript(){return interactiveScript&&interactiveScript.readyState==="interactive"?interactiveScript:(eachReverse(scripts(),function(e){if(e.readyState==="interactive")return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.14",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=typeof window!="undefined"&&typeof navigator!="undefined"&&!!window.document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(e,t,n,r){var i,s,o=defContextName;return!isArray(e)&&typeof e!="string"&&(s=e,isArray(t)?(e=t,t=n,n=r):e=[]),s&&s.context&&(o=s.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),s&&i.configure(s),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=typeof setTimeout!="undefined"?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r=e&&e.config||{},i;if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)):(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(s){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,s,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){head||(head=e.parentNode),dataMain=e.getAttribute("data-main");if(dataMain)return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;typeof e!="string"&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(n.length===1?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)})(this),function(e,t){typeof define=="function"&&define.amd?define("Rebound",t):e.Rebound=t()}(this,function(){return window.CustomElements&&window.CustomElements.observeDocument(document),define("morph/morph",["exports"],function(e){function n(e,t){if(e===null||t===null)throw new Error("a fragment parent must have boundary nodes in order to detect insertion")}function r(e){if(!e||e.nodeType!==1)throw new Error("An element node must be provided for a contextualElement, you provided "+(e?"nodeType "+e.nodeType:"nothing"))}function i(e,t,i,s,o){e.nodeType===11?(n(t,i),this.element=null):this.element=e,this._parent=e,this.start=t,this.end=i,this.domHelper=s,r(o),this.contextualElement=o,this.escaped=!0,this.reset()}function s(e,t,n){var r=t,i=n.length,s;while(i--)s=n[i],e.insertBefore(s,r),r=s}function o(e,t,n){var r,i;n===null?r=e.lastChild:r=n.previousSibling;while(r!==null&&r!==t)i=r.previousSibling,e.removeChild(r),r=i}var t=Array.prototype.splice;i.prototype.reset=function(){this.text=null,this.owner=null,this.morphs=null,this.before=null,this.after=null},i.prototype.parent=function(){if(!this.element){var e=this.start.parentNode;this._parent!==e&&(this._parent=e),e.nodeType===1&&(this.element=e)}return this._parent},i.prototype.destroy=function(){this.owner?this.owner.removeMorph(this):o(this.element||this.parent(),this.start,this.end)},i.prototype.removeMorph=function(e){var t=this.morphs;for(var n=0,r=t.length;n<r;n++)if(t[n]===e){this.replace(n,1);break}},i.prototype.update=function(e){this._update(this.element||this.parent(),e)},i.prototype.updateNode=function(e){var t=this.element||this.parent();if(!e)return this._updateText(t,"");this._updateNode(t,e)},i.prototype.updateText=function(e){this._updateText(this.element||this.parent(),e)},i.prototype.updateHTML=function(e){var t=this.element||this.parent();if(!e)return this._updateText(t,"");this._updateHTML(t,e)},i.prototype._update=function(e,t){t===null||t===undefined?this._updateText(e,""):typeof t=="string"?this.escaped?this._updateText(e,t):this._updateHTML(e,t):t.nodeType?this._updateNode(e,t):t.string?this._updateHTML(e,t.string):this._updateText(e,t.toString())},i.prototype._updateNode=function(e,t){if(this.text){if(t.nodeType===3){this.text.nodeValue=t.nodeValue;return}this.text=null}var n=this.start,r=this.end;o(e,n,r),e.insertBefore(t,r),this.before!==null&&(this.before.end=n.nextSibling),this.after!==null&&(this.after.start=r.previousSibling)},i.prototype._updateText=function(e,t){if(this.text){this.text.nodeValue=t;return}var n=this.domHelper.createTextNode(t);this.text=n,o(e,this.start,this.end),e.insertBefore(n,this.end),this.before!==null&&(this.before.end=n),this.after!==null&&(this.after.start=n)},i.prototype._updateHTML=function(e,t){var n=this.start,r=this.end;o(e,n,r),this.text=null;var i=this.domHelper.parseHTML(t,this.contextualElement);s(e,r,i),this.before!==null&&(this.before.end=n.nextSibling),this.after!==null&&(this.after.start=r.previousSibling)},i.prototype.append=function(e){this.morphs===null&&(this.morphs=[]);var t=this.morphs.length;return this.insert(t,e)},i.prototype.insert=function(e,t){this.morphs===null&&(this.morphs=[]);var n=this.element||this.parent(),r=this.morphs,s=e>0?r[e-1]:null,o=e<r.length?r[e]:null,u=s===null?this.start:s.end===null?n.lastChild:s.end.previousSibling,a=o===null?this.end:o.start===null?n.firstChild:o.start.nextSibling,f=new i(n,u,a,this.domHelper,this.contextualElement);return f.owner=this,f._update(n,t),s!==null&&(f.before=s,s.end=u.nextSibling,s.after=f),o!==null&&(f.after=o,o.before=f,o.start=a.previousSibling),this.morphs.splice(e,0,f),f},i.prototype.replace=function(e,n,r){this.morphs===null&&(this.morphs=[]);var s=this.element||this.parent(),u=this.morphs,a=e>0?u[e-1]:null,f=e+n<u.length?u[e+n]:null,l=a===null?this.start:a.end===null?s.lastChild:a.end.previousSibling,c=f===null?this.end:f.start===null?s.firstChild:f.start.nextSibling,h=r===undefined?0:r.length,p,d,v;n>0&&o(s,l,c);if(h===0){a!==null&&(a.after=f,a.end=c),f!==null&&(f.before=a,f.start=l),u.splice(e,n);return}p=new Array(h+2);if(h>0){for(d=0;d<h;d++)p[d+2]=v=new i(s,l,c,this.domHelper,this.contextualElement),v._update(s,r[d]),v.owner=this,a!==null&&(v.before=a,a.end=l.nextSibling,a.after=v),a=v,l=c===null?s.lastChild:c.previousSibling;f!==null&&(v.after=f,f.before=v,f.start=c.previousSibling)}p[0]=e,p[1]=n,t.apply(u,p)},e["default"]=i}),define("morph/dom-helper/build-html-dom",["exports"],function(e){function l(e,t){t="&shy;"+t,e.innerHTML=t;var n=e.childNodes,r=n[0];while(r.nodeType===1&&!r.nodeName)r=r.firstChild;if(r.nodeType===3&&r.nodeValue.charAt(0)===""){var i=r.nodeValue.slice(1);i.length?r.nodeValue=r.nodeValue.slice(1):r.parentNode.removeChild(r)}return n}function c(e,t){var n=t.tagName,r=t.outerHTML||(new XMLSerializer).serializeToString(t);if(!r)throw"Can't set innerHTML on "+n+" in this browser";var i=f[n.toLowerCase()],s=r.match(new RegExp("<"+n+"([^>]*)>","i"))[0],o="</"+n+">",u=[s,e,o],a=i.length,c=1+a;while(a--)u.unshift("<"+i[a]+">"),u.push("</"+i[a]+">");var h=document.createElement("div");l(h,u.join(""));var p=h;while(c--){p=p.firstChild;while(p&&p.nodeType!==1)p=p.nextSibling}while(p&&p.tagName!==n)p=p.nextSibling;return p?p.childNodes:[]}function d(e,t,n){var r=p(e,t,n);if(t.tagName==="SELECT")for(var i=0;r[i];i++)if(r[i].tagName==="OPTION"){a(r[i].parentNode,r[i],e)&&(r[i].parentNode.selectedIndex=-1);break}return r}var t={foreignObject:1,desc:1,title:1};e.svgHTMLIntegrationPoints=t;var n="http://www.w3.org/2000/svg";e.svgNamespace=n;var r=typeof document=="undefined"?!1:document,i=r&&function(e){if(e.createElementNS===undefined)return;var t=e.createElementNS(n,"title");return t.innerHTML="<div></div>",t.childNodes.length===0||t.childNodes[0].nodeType!==1}(r),s=r&&function(e){var t=e.createElement("div");return t.innerHTML="<div></div>",t.firstChild.innerHTML="<script></script>",t.firstChild.innerHTML===""}(r),o=r&&function(e){var t=e.createElement("div");return t.innerHTML="Test: <script type='text/x-placeholder'></script>Value",t.childNodes[0].nodeValue==="Test:"&&t.childNodes[2].nodeValue===" Value"}(r),u=r&&function(e){var t=e.createElement("div");return t.innerHTML="<select><option></option></select>",t.childNodes[0].childNodes[0].getAttribute("selected")==="selected"}(r),a;u?a=function(){var e=/<option[^>]*selected/;return function(n,r,i){return n.selectedIndex===0&&!e.test(i)}}():a=function(t,n,r){var i=n.getAttribute("selected");return t.selectedIndex===0&&(i===null||i!==""&&i.toLowerCase()!=="selected")};var f=r&&function(e){var t,n,r=e.createElement("table");try{r.innerHTML="<tbody></tbody>"}catch(i){}finally{n=r.childNodes.length===0}n&&(t={colgroup:["table"],table:[],tbody:["table"],tfoot:["table"],thead:["table"],tr:["table","tbody"]});var s=e.createElement("select");return s.innerHTML="<option></option>",s.childNodes[0]||(t=t||{},t.select=[]),t}(r),h;s?h=function(t,n,r){return n=r.cloneNode(n,!1),l(n,t),n.childNodes}:h=function(t,n,r){return n=r.cloneNode(n,!1),n.innerHTML=t,n.childNodes};var p;f||o?p=function(t,n,r){var i=[],s=[];t=t.replace(/(\s*)(<script)/g,function(e,t,n){return i.push(t),n}),t=t.replace(/(<\/script>)(\s*)/g,function(e,t,n){return s.push(n),t});var o;f[n.tagName.toLowerCase()]?o=c(t,n):o=h(t,n,r);var u,a,l,p,d=[];for(u=0;u<o.length;u++){l=o[u];if(l.nodeType!==1)continue;if(l.tagName==="SCRIPT")d.push(l);else{p=l.getElementsByTagName("script");for(a=0;a<p.length;a++)d.push(p[a])}}var v,m,g,y;for(u=0;u<d.length;u++)v=d[u],g=i[u],g&&g.length>0&&(m=r.document.createTextNode(g),v.parentNode.insertBefore(m,v)),y=s[u],y&&y.length>0&&(m=r.document.createTextNode(y),v.parentNode.insertBefore(m,v.nextSibling));return o}:p=h;var v;i?v=function(n,r,i){return t[r.tagName]?d(n,document.createElement("div"),i):d(n,r,i)}:v=d,e.buildHTMLDOM=v}),define("morph/dom-helper/classes",["exports"],function(e){function r(e){var t=e.getAttribute("class")||"";return t!==""&&t!==" "?t.split(" "):[]}function i(e,t){var n=0,r=e.length,i=0,s=t.length,o=new Array(s);for(;n<r;n++){i=0;for(;i<s;i++)if(t[i]===e[n]){o[i]=n;break}}return o}function s(e,t){var n=r(e),s=i(n,t),o=!1;for(var u=0,a=t.length;u<a;u++)s[u]===undefined&&(o=!0,n.push(t[u]));o&&e.setAttribute("class",n.length>0?n.join(" "):"")}function o(e,t){var n=r(e),s=i(t,n),o=!1,u=[];for(var a=0,f=n.length;a<f;a++)s[a]===undefined?u.push(n[a]):o=!0;o&&e.setAttribute("class",u.length>0?u.join(" "):"")}var t=typeof document=="undefined"?!1:document,n=t&&function(){var e=document.createElement("div");return e.classList?(e.classList.add("boo"),e.classList.add("boo","baz"),e.className==="boo baz"):!1}(),u,a;n?(u=function(t,n){t.classList?n.length===1?t.classList.add(n[0]):n.length===2?t.classList.add(n[0],n[1]):t.classList.add.apply(t.classList,n):s(t,n)},a=function(t,n){t.classList?n.length===1?t.classList.remove(n[0]):n.length===2?t.classList.remove(n[0],n[1]):t.classList.remove.apply(t.classList,n):o(t,n)}):(u=s,a=o),e.addClasses=u,e.removeClasses=a}),define("morph/dom-helper",["../morph/morph","./dom-helper/build-html-dom","./dom-helper/classes","exports"],function(e,t,n,r){function p(e){return e===o}function d(e){return e&&e.namespaceURI===o&&!u[e.tagName]?o:null}function m(e,t){if(t.tagName==="TABLE"){var n=v.exec(e);if(n){var r=n[1];return r==="tr"||r==="col"}}}function g(e,t){var n=t.document.createElement("div");return n.innerHTML="<svg>"+e+"</svg>",n.firstChild.childNodes}function y(e){this.document=e||document;if(!this.document)throw new Error("A document object must be passed to the DOMHelper, or available on the global scope");this.namespace=null}var i=e["default"],s=t.buildHTMLDOM,o=t.svgNamespace,u=t.svgHTMLIntegrationPoints,a=n.addClasses,f=n.removeClasses,l=typeof document=="undefined"?!1:document,c=l&&function(e){var t=e.createElement("div");t.appendChild(e.createTextNode(""));var n=t.cloneNode(!0);return n.childNodes.length===0}(l),h=l&&function(e){var t=e.createElement("input");t.setAttribute("checked","checked");var n=t.cloneNode(!1);return!n.checked}(l),v=/<([\w:]+)/,b=y.prototype;b.constructor=y,b.getElementById=function(e,t){return t=t||this.document,t.getElementById(e)},b.insertBefore=function(e,t,n){return e.insertBefore(t,n)},b.appendChild=function(e,t){return e.appendChild(t)},b.appendText=function(e,t){return e.appendChild(this.document.createTextNode(t))},b.setAttribute=function(e,t,n){e.setAttribute(t,n)},b.removeAttribute=function(e,t){e.removeAttribute(t)},b.setProperty=function(e,t,n){e[t]=n},l&&l.createElementNS?b.createElement=function(e,t){var n=this.namespace;return t&&(e==="svg"?n=o:n=d(t)),n?this.document.createElementNS(n,e):this.document.createElement(e)}:b.createElement=function(e){return this.document.createElement(e)},b.addClasses=a,b.removeClasses=f,b.setNamespace=function(e){this.namespace=e},b.detectNamespace=function(e){this.namespace=d(e)},b.createDocumentFragment=function(){return this.document.createDocumentFragment()},b.createTextNode=function(e){return this.document.createTextNode(e)},b.createComment=function(e){return this.document.createComment(e)},b.repairClonedNode=function(e,t,n){if(c&&t.length>0)for(var r=0,i=t.length;r<i;r++){var s=this.document.createTextNode(""),o=t[r],u=e.childNodes[o];u?e.insertBefore(s,u):e.appendChild(s)}h&&n&&e.setAttribute("checked","checked")},b.cloneNode=function(e,t){var n=e.cloneNode(!!t);return n},b.createMorph=function(e,t,n,r){return!r&&e.nodeType===1&&(r=e),new i(e,t,n,this,r)},b.createUnsafeMorph=function(e,t,n,r){var i=this.createMorph(e,t,n,r);return i.escaped=!1,i},b.createMorphAt=function(e,t,n,r){var i=e.childNodes,s=t===-1?null:i[t],o=n===-1?null:i[n];return this.createMorph(e,s,o,r)},b.createUnsafeMorphAt=function(e,t,n,r){var i=this.createMorphAt(e,t,n,r);return i.escaped=!1,i},b.insertMorphBefore=function(e,t,n){var r=this.document.createTextNode(""),i=this.document.createTextNode("");return e.insertBefore(r,t),e.insertBefore(i,t),this.createMorph(e,r,i,n)},b.appendMorph=function(e,t){var n=this.document.createTextNode(""),r=this.document.createTextNode("");return e.appendChild(n),e.appendChild(r),this.createMorph(e,n,r,t)},b.parseHTML=function(e,t){var n=p(this.namespace)&&!u[t.tagName];if(n)return g(e,this);var r=s(e,t,this);if(m(e,t)){var i=r[0];while(i&&i.nodeType!==1)i=i.nextSibling;return i.childNodes}return r},r["default"]=y}),define("property-compiler/tokenizer",["exports"],function(e){function u(e){n=e||{};for(var t in o)Object.prototype.hasOwnProperty.call(n,t)||(n[t]=o[t]);s=n.sourceFile||null,Ut=n.ecmaVersion>=6?Rt:qt}function N(e,t){var n=a(r,e);t+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(t);throw i.pos=e,i.loc=n,i.raisedAt=f,i}function Pt(e){function s(e){if(e.length==1)return t+="return str === "+JSON.stringify(e[0])+";";t+="switch(str){";for(var n=0;n<e.length;++n)t+="case "+JSON.stringify(e[n])+":";t+="return true}return false;"}e=e.split(" ");var t="",n=[];e:for(var r=0;r<e.length;++r){for(var i=0;i<n.length;++i)if(n[i][0].length==e[r].length){n[i].push(e[r]);continue e}n.push([e[r]])}if(n.length>3){n.sort(function(e,t){return t.length-e.length}),t+="switch(str.length){";for(var r=0;r<n.length;++r){var o=n[r];t+="case "+o[0].length+":",s(o)}t+="}"}else s(e);return new Function("str",t)}function Yt(){this.line=g,this.column=f-y}function Zt(){g=1,f=y=0,m=!0,rn()}function en(e,t){c=f,n.locations&&(p=new Yt),d=e,rn(),v=t,m=e.beforeExpr}function tn(){var e=n.onComment&&n.locations&&new Yt,t=f,i=r.indexOf("*/",f+=2);i===-1&&N(f-2,"Unterminated comment"),f=i+2;if(n.locations){Kt.lastIndex=t;var s;while((s=Kt.exec(r))&&s.index<f)++g,y=s.index+s[0].length}n.onComment&&n.onComment(!0,r.slice(t+2,i),t,f,e,n.locations&&new Yt)}function nn(){var e=f,t=n.onComment&&n.locations&&new Yt,s=r.charCodeAt(f+=2);while(f<i&&s!==10&&s!==13&&s!==8232&&s!==8233)++f,s=r.charCodeAt(f);n.onComment&&n.onComment(!1,r.slice(e+2,f),e,f,t,n.locations&&new Yt)}function rn(){while(f<i){var e=r.charCodeAt(f);if(e===32)++f;else if(e===13){++f;var t=r.charCodeAt(f);t===10&&++f,n.locations&&(++g,y=f)}else if(e===10||e===8232||e===8233)++f,n.locations&&(++g,y=f);else if(e>8&&e<14)++f;else if(e===47){var t=r.charCodeAt(f+1);if(t===42)tn();else{if(t!==47)break;nn()}}else if(e===160)++f;else{if(!(e>=5760&&zt.test(String.fromCharCode(e))))break;++f}}}function sn(){var e=r.charCodeAt(f+1);if(e>=48&&e<=57)return bn(!0);var t=r.charCodeAt(f+2);return n.ecmaVersion>=6&&e===46&&t===46?(f+=3,en(mt)):(++f,en(vt))}function on(){var e=r.charCodeAt(f+1);return m?(++f,mn()):e===61?vn(wt,2):vn(yt,1)}function un(){var e=r.charCodeAt(f+1);return e===61?vn(wt,2):vn(_t,1)}function an(e){var t=r.charCodeAt(f+1);return t===e?vn(e===124?xt:Tt,2):t===61?vn(wt,2):vn(e===124?Nt:kt,1)}function fn(){var e=r.charCodeAt(f+1);return e===61?vn(wt,2):vn(Ct,1)}function ln(e){var t=r.charCodeAt(f+1);return t===e?t==45&&r.charCodeAt(f+2)==62&&Jt.test(r.slice(w,f))?(f+=3,nn(),rn(),dn()):vn(Et,2):t===61?vn(wt,2):vn(Mt,1)}function cn(e){var t=r.charCodeAt(f+1),n=1;return t===e?(n=e===62&&r.charCodeAt(f+2)===62?3:2,r.charCodeAt(f+n)===61?vn(wt,n+1):vn(Ot,n)):t==33&&e==60&&r.charCodeAt(f+2)==45&&r.charCodeAt(f+3)==45?(f+=4,nn(),rn(),dn()):(t===61&&(n=r.charCodeAt(f+2)===61?3:2),vn(At,n))}function hn(e){var t=r.charCodeAt(f+1);return t===61?vn(Lt,r.charCodeAt(f+2)===61?3:2):vn(e===61?bt:St,1)}function pn(e){switch(e){case 46:return sn();case 40:return++f,en(lt);case 41:return++f,en(ct);case 59:return++f,en(pt);case 44:return++f,en(ht);case 91:return++f,en(ot);case 93:return++f,en(ut);case 123:return++f,en(at);case 125:return++f,en(ft);case 58:return++f,en(dt);case 63:return++f,en(gt);case 48:var t=r.charCodeAt(f+1);if(t===120||t===88)return yn();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return bn(!1);case 34:case 39:return wn(e);case 47:return on();case 37:case 42:return un();case 124:case 38:return an(e);case 94:return fn();case 43:case 45:return ln(e);case 60:case 62:return cn(e);case 61:case 33:return hn(e);case 126:return vn(St,1)}return!1}function dn(e){e?f=l+1:l=f,n.locations&&(h=new Yt);if(e)return mn();if(f>=i)return en(M);var t=r.charCodeAt(f);if(Qt(t)||t===92)return Tn();var s=pn(t);if(s===!1){var o=String.fromCharCode(t);if(o==="\\"||Vt.test(o))return Tn();N(f,"Unexpected character '"+o+"'")}return s}function vn(e,t){var n=r.slice(f,f+t);f+=t,en(e,n)}function mn(){var e="",t,n,s=f;for(;;){f>=i&&N(s,"Unterminated regular expression");var o=r.charAt(f);Jt.test(o)&&N(s,"Unterminated regular expression");if(!t){if(o==="[")n=!0;else if(o==="]"&&n)n=!1;else if(o==="/"&&!n)break;t=o==="\\"}else t=!1;++f}var e=r.slice(s,f);++f;var u=xn();u&&!/^[gmsiy]*$/.test(u)&&N(s,"Invalid regular expression flag");try{var a=new RegExp(e,u)}catch(l){l instanceof SyntaxError&&N(s,"Error parsing regular expression: "+l.message),N(l)}return en(L,a)}function gn(e,t){var n=f,i=0;for(var s=0,o=t==null?Infinity:t;s<o;++s){var u=r.charCodeAt(f),a;u>=97?a=u-97+10:u>=65?a=u-65+10:u>=48&&u<=57?a=u-48:a=Infinity;if(a>=e)break;++f,i=i*e+a}return f===n||t!=null&&f-n!==t?null:i}function yn(){f+=2;var e=gn(16);return e==null&&N(l+2,"Expected hexadecimal number"),Qt(r.charCodeAt(f))&&N(f,"Identifier directly after number"),en(k,e)}function bn(e){var t=f,n=!1,i=r.charCodeAt(f)===48;!e&&gn(10)===null&&N(t,"Invalid number"),r.charCodeAt(f)===46&&(++f,gn(10),n=!0);var s=r.charCodeAt(f);if(s===69||s===101)s=r.charCodeAt(++f),(s===43||s===45)&&++f,gn(10)===null&&N(t,"Invalid number"),n=!0;Qt(r.charCodeAt(f))&&N(f,"Identifier directly after number");var o=r.slice(t,f),u;return n?u=parseFloat(o):!i||o.length===1?u=parseInt(o,10):/[89]/.test(o)||T?N(t,"Invalid number"):u=parseInt(o,8),en(k,u)}function wn(e){f++;var t="";for(;;){f>=i&&N(l,"Unterminated string constant");var s=r.charCodeAt(f);if(s===e)return++f,en(A,t);if(s===92){s=r.charCodeAt(++f);var o=/^[0-7]+/.exec(r.slice(f,f+3));o&&(o=o[0]);while(o&&parseInt(o,8)>255)o=o.slice(0,-1);o==="0"&&(o=null),++f;if(o)T&&N(f-2,"Octal literal in strict mode"),t+=String.fromCharCode(parseInt(o,8)),f+=o.length-1;else switch(s){case 110:t+="\n";break;case 114:t+="\r";break;case 120:t+=String.fromCharCode(En(2));break;case 117:t+=String.fromCharCode(En(4));break;case 85:t+=String.fromCharCode(En(8));break;case 116:t+="	";break;case 98:t+="\b";break;case 118:t+="";break;case 102:t+="\f";break;case 48:t+="\0";break;case 13:r.charCodeAt(f)===10&&++f;case 10:n.locations&&(y=f,++g);break;default:t+=String.fromCharCode(s)}}else(s===13||s===10||s===8232||s===8233)&&N(l,"Unterminated string constant"),t+=String.fromCharCode(s),++f}}function En(e){var t=gn(16,e);return t===null&&N(l,"Bad character escape sequence"),t}function xn(){Sn=!1;var e,t=!0,n=f;for(;;){var i=r.charCodeAt(f);if(Gt(i))Sn&&(e+=r.charAt(f)),++f;else{if(i!==92)break;Sn||(e=r.slice(n,f)),Sn=!0,r.charCodeAt(++f)!=117&&N(f,"Expecting Unicode escape sequence \\uXXXX"),++f;var s=En(4),o=String.fromCharCode(s);o||N(f-1,"Invalid Unicode escape"),(t?!Qt(s):!Gt(s))&&N(f-4,"Invalid Unicode escape"),e+=o}t=!1}return Sn?e:r.slice(n,f)}function Tn(){var e=xn(),t=O;return!Sn&&Ut(e)&&(t=st[e]),en(t,e)}var t={},n,r,i,s,o=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},a=t.getLineInfo=function(e,t){for(var n=1,r=0;;){Kt.lastIndex=r;var i=Kt.exec(e);if(!(i&&i.index<t))break;++n,r=i.index+i[0].length}return{line:n,column:t-r}};t.tokenize=function(e,t){function o(e){return w=c,dn(e),s.start=l,s.end=c,s.startLoc=h,s.endLoc=p,s.type=d,s.value=v,s}r=String(e),i=r.length,u(t),Zt();var s={};return o.jumpTo=function(e,t){f=e;if(n.locations){g=1,y=Kt.lastIndex=0;var i;while((i=Kt.exec(r))&&i.index<e)++g,y=i.index+i[0].length}m=t,rn()},o};var f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,C=[],k={type:"num"},L={type:"regexp"},A={type:"string"},O={type:"name"},M={type:"eof"},_={keyword:"break"},D={keyword:"case",beforeExpr:!0},P={keyword:"catch"},H={keyword:"continue"},B={keyword:"debugger"},j={keyword:"default"},F={keyword:"do",isLoop:!0},I={keyword:"else",beforeExpr:!0},q={keyword:"finally"},R={keyword:"for",isLoop:!0},U={keyword:"function"},z={keyword:"if"},W={keyword:"return",beforeExpr:!0},X={keyword:"switch"},V={keyword:"throw",beforeExpr:!0},$={keyword:"try"},J={keyword:"var"},K={keyword:"let"},Q={keyword:"const"},G={keyword:"while",isLoop:!0},Y={keyword:"with"},Z={keyword:"new",beforeExpr:!0},et={keyword:"this"},tt={keyword:"null",atomValue:null},nt={keyword:"true",atomValue:!0},rt={keyword:"false",atomValue:!1},it={keyword:"in",binop:7,beforeExpr:!0},st={"break":_,"case":D,"catch":P,"continue":H,"debugger":B,"default":j,"do":F,"else":I,"finally":q,"for":R,"function":U,"if":z,"return":W,"switch":X,"throw":V,"try":$,"var":J,let:K,"const":Q,"while":G,"with":Y,"null":tt,"true":nt,"false":rt,"new":Z,"in":it,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":et,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0}},ot={type:"[",beforeExpr:!0},ut={type:"]"},at={type:"{",beforeExpr:!0},ft={type:"}"},lt={type:"(",beforeExpr:!0},ct={type:")"},ht={type:",",beforeExpr:!0},pt={type:";",beforeExpr:!0},dt={type:":",beforeExpr:!0},vt={type:"."},mt={type:"..."},gt={type:"?",beforeExpr:!0},yt={binop:10,beforeExpr:!0},bt={isAssign:!0,beforeExpr:!0},wt={isAssign:!0,beforeExpr:!0},Et={postfix:!0,prefix:!0,isUpdate:!0},St={prefix:!0,beforeExpr:!0},xt={binop:1,beforeExpr:!0},Tt={binop:2,beforeExpr:!0},Nt={binop:3,beforeExpr:!0},Ct={binop:4,beforeExpr:!0},kt={binop:5,beforeExpr:!0},Lt={binop:6,beforeExpr:!0},At={binop:7,beforeExpr:!0},Ot={binop:8,beforeExpr:!0},Mt={binop:9,prefix:!0,beforeExpr:!0},_t={binop:10,beforeExpr:!0};t.tokTypes={bracketL:ot,bracketR:ut,braceL:at,braceR:ft,parenL:lt,parenR:ct,comma:ht,semi:pt,colon:dt,dot:vt,ellipsis:mt,question:gt,slash:yt,eq:bt,name:O,eof:M,num:k,regexp:L,string:A};for(var Dt in st)t.tokTypes["_"+Dt]=st[Dt];var Ht=Pt("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Bt=Pt("class enum extends super const export import"),jt=Pt("implements interface let package private protected public static yield"),Ft=Pt("eval arguments"),It="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",qt=Pt(It),Rt=Pt(It+" let const"),Ut=qt,zt=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Wt="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Xt="------------------------------------------------------------------------------------------------------------------------------------------",Vt=new RegExp("["+Wt+"]"),$t=new RegExp("["+Wt+Xt+"]"),Jt=/[\n\r\u2028\u2029]/,Kt=/\r\n|[\n\r\u2028\u2029]/g,Qt=t.isIdentifierStart=function(e){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e>=170&&Vt.test(String.fromCharCode(e))},Gt=t.isIdentifierChar=function(e){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e>=170&&$t.test(String.fromCharCode(e))},Sn;e["default"]={tokenize:t.tokenize}}),define("property-compiler/property-compiler",["property-compiler/tokenizer","exports"],function(e,t){function i(e,t){var r={};if(e.__params)return e.__params;var i=e.toString(),s=n.tokenize(i),o=[],u,a=[],f={},l=[],c=!1,h=0,p=0,d=[],v,m=[],g,y,b=[],w=[],E=[";",",","==",">","<",">=","<=",">==","<==","!=","!==","===","&&","||","+","-","/","*"];do{u=s(),u.value==="this"&&(h++,w=[]);if(u.value==="get"){g=s();while(_.isUndefined(g.value))g=s();w.push(g.value.replace(/\[.+\]/g,".@each").replace(/^\./,""))}if(u.value==="pluck"){g=s();while(_.isUndefined(g.value))g=s();w.push("@each."+g.value)}if(u.value==="slice"||u.value==="clone"||u.value==="filter")g=s(),g.type.type==="("&&w.push("@each");if(u.value==="at"){g=s();while(_.isUndefined(g.value))g=s();w.push("@each")}if(u.value==="where"||u.value==="findWhere"){w.push("@each"),g=s(),b=[];var S=0;while(g.type.type!==")")g.value&&(S%2===0&&b.push(g.value),S++),g=s();w.push(b)}if(h&&_.indexOf(E,u.type.type)>-1||_.indexOf(E,u.value)>-1)w=_.reduce(w,function(e,t){var n=[];return t=_.isArray(t)?t:[t],_.each(t,function(t){_.each(e,function(e){n.push(_.compact([e,t]).join(".").replace(".[","["))})}),n},[""]),a=_.compact(_.union(a,w)),w=[],h--}while(u.start!==u.end);return console.log("COMPUTED PROPERTY",t,"registered with these dependancy paths:",a),e.__params=a}var n=e["default"],r=[];t["default"]={compile:i}}),define("rebound-runtime/utils",["exports"],function(e){function r(){return!1}function i(){return!0}var t=function(e){return new n(e)},n=function(e){var t,n=_.isElement(e)&&[e]||e===document&&[document]||_.isString(e)&&querySelectorAll(e)||[];this.length=n.length;for(t=0;t<this.length;t++)this[t]=n[t];return this};t.Event=function(e,n){if(!(this instanceof t.Event))return new t.Event(e,n);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===!1?i:r):this.type=e,n&&_.extend(this,n),_.extend(this,_.pick(this.originalEvent,["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","view","which","char","charCode","key","keyCode","button","buttons","clientX","clientY","","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement"])),this.timeStamp=e&&e.timeStamp||(new Date).getTime(),this.isEvent=!0},t.Event.prototype={constructor:t.Event,isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=i,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=i,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=i,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},n.prototype={splitPath:function(e){return _.compact(e.split(/(?:\.|\[|\])+/))},walkTheDOM:function(e){var n,r,i=this.length;while(i--){r=this[i],e(r),r=r.firstChild;while(r)t(r).walkTheDOM(e),r=r.nextSibling}},_events:{},_hasDelegate:function(e,t,n){var r=[];return e.delegateGroup&&this._events[e.delegateGroup][n]&&_.each(this._events[e.delegateGroup][n],function(e,n){_.isArray(e)&&(n===t.delegateId||t.matchesSelector&&t.matchesSelector(n))&&(r=r.concat(e))}),r},trigger:function(e,t){var n,r=this.length;while(r--){n=this[r];if(document.createEvent){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!1),n.dispatchEvent(i)}else n.fireEvent("on"+e)}},off:function(e,t){var n,r=this.length,i;while(r--)n=this[r],i=0,n.delegateGroup&&this._events[n.delegateGroup][e]&&_.isArray(this._events[n.delegateGroup][e][n.delegateId])&&_.each(this._events[n.delegateGroup][e],function(e,n,r){_.each(r,function(e,n,r){if(e===t){delete r[n];return}i++})}),i===0&&n.removeEventListener&&n.removeEventListener(e,t,!1),i===0&&n.detachEvent&&n.detachEvent("on"+e,t)},on:function(e,n,r,i){var s,o=this._events,u=this.length,a=e.split(" "),f,l;while(u--){s=this[u],_.isFunction(n)&&(i=n,n=s,r={}),_.isFunction(r)&&(i=r,r={});if(!_.isString(n)&&!_.isElement(n))return console.error("Delegate value passed to Rebound's $.on is neither an element or css selector"),!1;f=_.isString(n)?n:n.delegateId=n.delegateId||_.uniqueId("event"),l=s.delegateGroup=s.delegateGroup||_.uniqueId("delegateGroup"),_.each(a,function(e){o[l]=o[l]||{};var n=function(e){var n,r,i,o,u,a,f;e=new t.Event(e||window.event),n=e.target||e.srcElement;while(n){u=t._hasDelegate(s,n,e.type),i=u.length;for(r=0;r<i;r++)e.target=e.srcElement=n,e.data=u[r].data,e.result=u[r].callback.call(s,e),f=e.result===!1?!0:f;if(f)return e.preventDefault(),e.stopPropagation(),!1;n=n.parentNode}};o[l][e]||(s.addEventListener?s.addEventListener(e,n):s.attachEvent("on"+e,n)),o[l][e]=o[l][e]||{},o[l][e][f]=o[l][e][f]||[],o[l][e][f].push({callback:i,data:r})},this)}},flatten:function(e){function n(e,r){if(Object(e)!==e)t[r]=e;else if(Array.isArray(e)){for(var i=0,s=e.length;i<s;i++)n(e[i],r+"["+i+"]");s===0&&(t[r]=[])}else{var o=!0;for(var u in e)o=!1,n(e[u],r?r+"."+u:u);o&&r&&(t[r]={})}}var t={};return n(e,""),t},ajax:function(e){typeof e=="string"&&(e={url:e}),e.url=e.url||"",e.json=e.json||!0,e.method=e.method||"get",e.data=e.data||{};var t=function(e,t){var n=[],r;for(var i in e)n.push(i+"="+encodeURIComponent(e[i]));return r=n.join("&"),r!==""?t?t.indexOf("?")<0?"?"+r:"&"+r:r:""},n={host:{},process:function(e){var n=this;return this.xhr=null,window.ActiveXObject?this.xhr=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(this.xhr=new XMLHttpRequest),this.xhr&&(this.xhr.onreadystatechange=function(){if(n.xhr.readyState==4&&n.xhr.status==200){var t=n.xhr.responseText;e.json===!0&&typeof JSON!="undefined"&&(t=JSON.parse(t)),n.doneCallback&&n.doneCallback.apply(n.host,[t,n.xhr]),e.success&&e.success.apply(n.host,[t,n.xhr])}else n.xhr.readyState==4&&(n.failCallback&&n.failCallback.apply(n.host,[n.xhr]),e.error&&e.error.apply(n.host,[n.xhr]));n.alwaysCallback&&n.alwaysCallback.apply(n.host,[n.xhr]),e.complete&&e.complete.apply(n.host,[n.xhr])}),e.method=="get"?(this.xhr.open("GET",e.url+t(e.data,e.url),!0),this.setHeaders({"X-Requested-With":"XMLHttpRequest"})):(this.xhr.open(e.method,e.url,!0),this.setHeaders({"X-Requested-With":"XMLHttpRequest","Content-type":"application/x-www-form-urlencoded"})),e.headers&&typeof e.headers=="object"&&this.setHeaders(e.headers),setTimeout(function(){e.method=="get"?n.xhr.send():n.xhr.send(t(e.data))},20),this.xhr},done:function(e){return this.doneCallback=e,this},fail:function(e){return this.failCallback=e,this},always:function(e){return this.alwaysCallback=e,this},setHeaders:function(e){for(var t in e)this.xhr&&this.xhr.setRequestHeader(t,e[t])}};return n.process(e)}},_.extend(t,n.prototype),e["default"]=t}),define("rebound-data/computed-property",["property-compiler/property-compiler","rebound-runtime/utils","exports"],function(e,t,n){function s(e,t){return e===t?!0:e.substring(0,t.length+1)===t+"."}var r=e["default"],i=t["default"];if(Rebound.ComputedProperty)throw"Rebound ComputedProperty is already loaded on the page!";if(!window.Backbone)throw"Backbone must be on the page for Rebound to load.";var o=function(e,t){if(!_.isFunction(e))return console.error("ComputedProperty constructor must be passed a function!",e,"Found instead.");t=t||{},this.cid=_.uniqueId("computedPropety"),this.name=t.name,this.returnType=null,this.__observers={},this.helpers={},this.waiting={},this.isChanging=!1,this.isDirty=!0,this.func=e,_.bindAll(this,"onModify"),this.deps=r.compile(e,this.name);var n={parent:this.setParent(t.parent||this),root:this.setRoot(t.root||t.parent||this),path:this.__path=t.path||this.__path};this.cache={model:new Rebound.Model({},n),collection:new Rebound.Collection([],n),value:undefined},this.wire()};_.extend(o.prototype,Backbone.Events,{isComputedProperty:!0,isData:!0,__path:function(){return""},onRecompute:function(e,t,n,r){function l(e){_.each(e,function(e){e.isDirty=1}),_.invoke(e,"call")}var i={change:1,sort:1,request:1,destroy:1,sync:1,error:1,invalid:1,route:1};if(i[e]||!t.isData)return;t||(t={}),n||(n={}),r||(r={}),!n.isData&&(r=n)&&(n=t);var o=Array.prototype.push,u=[],a,f;return f=a=n.__path().replace(/\.?\[.*\]/ig,".@each"),e==="reset"&&r.previousAttributes?_.each(r.previousAttributes,function(e,t){f=a+(a&&".")+t,_.each(this.__computedDeps,function(e,t){s(f,t)&&o.apply(u,e)},this)},this):e==="reset"&&r.previousModels?_.each(this.__computedDeps,function(e,t){s(t,f)&&o.apply(u,e)},this):e==="add"||e==="remove"?_.each(this.__computedDeps,function(e,t){(s(t,f)||s(f,t))&&o.apply(u,e)},this):e.indexOf("change:")===0&&(f=e.replace("change:","").replace(/\.?\[.*\]/ig,".@each"),_.each(this.__computedDeps,function(e,t){s(f,t)&&o.apply(u,e)})),l(u)},onModify:function(e,t,n,r){var i={sort:1,request:1,destroy:1,sync:1,error:1,invalid:1,route:1};if(i[e]||~e.indexOf("change:")||this.isDirty)return;t||(t={}),n||(n={}),r||(r={}),!n.isData&&_.isObject(n)&&(r=n)&&(n=t);var s=this,o=n.__path().replace(s.__path(),"").replace(/^\./,""),u=this.tracking.get(o);if(_.isUndefined(u))return;e==="change"?u.set&&u.set(t.changedAttributes()):e==="reset"?u.reset&&u.reset(t):e==="add"?u.add&&u.add(t):e==="remove"&&u.remove&&u.remove(t)},track:function(e){var t=this.value();this.off("all",this.onModify);if(!e||!t||!t.isData||!e.isData)return;t._cid||(t._cid=t.cid),e._cid||(e._cid=e.cid),t.cid=e.cid,this.tracking=e,this.listenTo(t,"all",this.onModify)},wire:function(){var e=this.__root__,t=this.__parent__;e.__computedDeps||(e.__computedDeps={}),_.each(this.deps,function(n){var r=i.splitPath(n);while(r[0]==="@parent")t=t.__parent__,r.shift();n=t.__path().replace(/\.?\[.*\]/ig,".@each"),n=n+(n&&".")+r.join("."),e.__computedDeps[n]||(e.__computedDeps[n]=[]),e.__computedDeps[n].push(this)},this),t.off("all",this.onRecompute).on("all",this.onRecompute)},call:function(){var e=Array.prototype.slice.call(arguments),t=e.shift();return this.apply(t,e)},apply:function(e,t){if(!this.isDirty||this.isChanging)return;this.isChanging=!0;var n=this.cache[this.returnType],r;e||(e=this.__parent__),_.each(this.deps,function(t){var n=e.get(t,{raw:!0});if(!n||!n.isComputedProperty)return;if(n.isDirty&&n.returnType!==null)return n.waiting[this.cid]=this,this.isChanging=!1;delete n.waiting[this.cid]},this);if(!this.isChanging)return;return r=this.func.apply(e,t),_.isArray(r)?r=new Rebound.Collection(r,{clone:!1}):_.isObject(r)&&!r.isData&&(r=new Rebound.Model(r,{clone:!1})),_.isUndefined(r)||_.isNull(r)?(this.returnType="value",this.isCollection=this.isModel=!1,this.set(undefined)):r.isCollection?(this.returnType="collection",this.isCollection=!0,this.isModel=!1,this.set(r)):r.isModel?(this.returnType="model",this.isCollection=!1,this.isModel=!0,this.reset(r)):(this.returnType="value",this.isCollection=this.isModel=!1,this.reset(r)),this.track(r),this.value()},get:function(e,t){var n=this.value();return t||(t={}),this.returnType==="value"?console.error("Called get on the `"+this.name+"` computed property which returns a primitive value."):n.get(e,t)},set:function(e,t,n){if(this.returnType===null)return undefined;n||(n={});var r=e,i=this.value();return this.returnType==="model"&&(typeof e=="object"?(r=e.isModel?e.attributes:e,n=t):(r={})[e]=t),this.returnType!=="model"&&(n=t||{}),r=r&&r.isComputedProperty?r.value():r,this.returnType==="value"&&this.cache.value!==r?(this.cache.value=r,n.quiet||(!this.isDirty&&!this.isChanging&&(this.__parent__.changed={}),this.__parent__.changed[this.name]=r,this.trigger("change",this.__parent__),this.trigger("change:"+this.name,this.__parent__,r),delete this.__parent__.changed[this.name])):this.returnType!=="value"&&n.reset?e=i.reset(r,n):this.returnType!=="value"&&(e=i.set(r,n)),this.isDirty=this.isChanging=!1,_.each(this.waiting,function(e){e&&e.call()}),e},value:function(){return _.isNull(this.returnType)&&this.apply(),this.cache[this.returnType]},reset:function(e,t){if(_.isNull(this.returnType))return;return t||(t={}),t.reset=!0,this.set(e,t)},toJSON:function(){if(this._isSerializing)return this.cid;var e=this.value();this._isSerializing=!0;var t=e&&_.isFunction(e.toJSON)?e.toJSON():e;return this._isSerializing=!1,t}}),n["default"]=o}),define("rebound-data/model",["rebound-data/computed-property","rebound-runtime/utils","exports"],function(e,t,n){function s(e,t){return function(){var n=e.__path();return n+(n===""?"":".")+t}}var r=e["default"],i=t["default"];if(Rebound.Model)throw"Rebound Model is already loaded on the page!";if(!window.Backbone)throw"Backbone must be on the page for Rebound to load.";var o=Backbone.Model.extend({isModel:!0,isData:!0,__path:function(){return""},constructor:function(e,t){var n;e||(e={}),n=e||{},e.isModel&&(e=e.attributes),t||(t={}),this.helpers={},this.defaults=this.defaults||{},this.setParent(t.parent||this),this.setRoot(t.root||this),this.__path=t.path||this.__path,Backbone.Model.call(this,e,t)},toggle:function(e,t){t=t?_.clone(t):{};var n=this.get(e);return _.isBoolean(n)||console.error("Tried to toggle non-boolean value "+e+"!",this),this.set(e,!n,t)},reset:function(e,t){var n={};return t||(t={}),t.reset=!0,e=e&&e.isModel&&e.attributes||e||{},t.previousAttributes=_.clone(this.attributes),_.each(this.attributes,function(t,r,i){if(_.isUndefined(t))e[r]&&(n[r]=e[r]);else{if(r===this.idAttribute||t&&t.isComputedProperty)return;t.isCollection||t.isModel?(t.reset(e[r]||[],{silent:!0}),!_.isEmpty(t.changed)&&(n[r]=t.changed)):e.hasOwnProperty(r)?t!==e[r]&&(n[r]=e[r]):this.defaults.hasOwnProperty(r)&&!_.isFunction(this.defaults[r])?(e[r]=this.defaults[r],t!==e[r]&&(n[r]=e[r])):(n[r]=undefined,this.unset(r,{silent:!0}))}},this),_.each(e,function(e,t,r){n[t]=n[t]||r[t]}),e=this.set(e,_.extend({},t,{silent:!0,reset:!1})),this.changed=n,t.silent||this.trigger("reset",this,t),e},get:function(e,t){var n=i.splitPath(e),r=this,s=n.length,o=0;t=_.defaults(t||{},{raw:!1});if(_.isUndefined(e)||_.isNull(e))return e;if(e===""||n.length===0)return r;if(n.length>0)for(o=0;o<s;o++){if(r&&r.isComputedProperty&&t.raw)return r;r&&r&&r.isComputedProperty&&(r=r.value());if(_.isUndefined(r)||_.isNull(r))return r;n[o]==="@parent"?r=r.__parent__:r.isCollection?r=r.models[n[o]]:r.isModel?r=r.attributes[n[o]]:r&&r.hasOwnProperty(n[o])&&(r=r[n[o]])}return r&&r.isComputedProperty&&!t.raw&&(r=r.value()),r},set:function(e,t,n){var u,a,f,l,c,h=[],p;typeof e=="object"?(u=e.isModel?e.attributes:e,n=t):(u={})[e]=t,n||(n={});if(n.reset===!0)return this.reset(u,n);if(_.isEmpty(u))return;return _.each(u,function(e,t){var u=i.splitPath(t),a=u.pop()||"";l=this.get(u.join(".")),p={name:t,parent:l,root:this.__root__,path:s(this,t),silent:!0,clone:n.clone};if(_.isUndefined(l))return l=this,_.each(u,function(e){var t=l.get(e);_.isUndefined(t)&&(l.set(e,{}),t=l.get(e)),l=t},this),l.set(a,e);var f=l.get(a,{raw:!0})||{};if(_.isNull(e)||_.isUndefined(e))e=this.defaults[t];if(e&&e.isComputedProperty)e=e.value();else if(_.isNull(e)||_.isUndefined(e))e=undefined;else{if(f.isComputedProperty&&f.func===e)return;if(_.isFunction(e))e=new r(e,p);else if(e&&e.isData&&l.hasParent(e))e=e;else{if(f.isComputedProperty||f.isCollection&&(_.isArray(e)||e.isCollection)||f.isModel&&(_.isObject(e)||e.isModel))return f.set(e,n);e.isData&&n.clone!==!1?e=new e.constructor(e.attributes||e.models,p):_.isArray(e)?e=new Rebound.Collection(e,p):_.isObject(e)&&(e=new o(e,p))}}return this._hasAncestry=e&&e.isData||!1,Backbone.Model.prototype.set.call(l,a,e,n)},this),this},toJSON:function(){if(this._isSerializing)return this.id||this.cid;this._isSerializing=!0;var e=_.clone(this.attributes);return _.each(e,function(t,n){if(_.isNull(t)||_.isUndefined(t))return;_.isFunction(t.toJSON)&&(e[n]=t.toJSON())}),this._isSerializing=!1,e}});n["default"]=o}),define("rebound-data/collection",["rebound-data/model","rebound-runtime/utils","exports"],function(e,t,n){function s(e){return function(){return e.__path()+"["+e.indexOf(e._byId[this.cid])+"]"}}var r=e["default"],i=t["default"];if(Rebound.Collection)throw"Rebound Collection is already loaded on the page!";if(!window.Backbone)throw"Backbone must be on the page for Rebound to load.";var o=Backbone.Collection.extend({isCollection:!0,isData:!0,model:this.model||r,__path:function(){return""},constructor:function(e,t){e||(e=[]),t||(t={}),this.__observers={},this.helpers={},this.cid=_.uniqueId("collection"),this.setParent(t.parent||this),this.setRoot(t.root||this),this.__path=t.path||this.__path,Backbone.Collection.apply(this,arguments),this.on("remove",function(e,t,n){e.deinitialize()})},get:function(e,t){if(typeof e=="number"||typeof e=="object")return Backbone.Collection.prototype.get.call(this,e);if(!_.isString(e))return void 0;var n=i.splitPath(e),r=this,s=n.length,o=0;t=_.defaults(t||{},{raw:!1});if(_.isUndefined(e)||_.isNull(e))return e;if(e===""||n.length===0)return r;if(n.length>0)for(o=0;o<s;o++){if(r&&r.isComputedProperty&&t.raw)return r;r&&r.isComputedProperty&&(r=r.value());if(_.isUndefined(r)||_.isNull(r))return r;n[o]==="@parent"?r=r.__parent__:r.isCollection?r=r.models[n[o]]:r.isModel?r=r.attributes[n[o]]:r.hasOwnProperty(n[o])&&(r=r[n[o]])}return r&&r.isComputedProperty&&!t.raw&&(r=r.value()),r},set:function(e,t){var n=[],r={parent:this,root:this.__root__,path:s(this),silent:!0};return t=t||{},e||(e=[]),_.isString(e)?this.get(i.splitPath(e)[0]).set(i.splitPath(e).splice(1,e.length).join("."),t):_.isObject(e)?(e=e.isCollection?e.models:e,e=_.isArray(e)?e:[e],_.each(e,function(e,i){if(e.isModel&&t.clone===!1||this._byId[e.cid])return n[i]=e;n[i]=new this.model(e,_.defaults(r,t)),e.isModel&&(n[i].cid=e.cid)},this),this._hasAncestry||(this._hasAncestry=n.length>0),Backbone.Collection.prototype.set.call(this,n,t)):console.error("Collection.set must be passed a Model, Object, array or Models and Objects, or another Collection")}});n["default"]=o}),define("rebound-data/rebound-data",["rebound-data/model","rebound-data/collection","rebound-data/computed-property","rebound-runtime/utils","exports"],function(e,t,r,i,s){var o=e["default"],u=t["default"],a=r["default"],f=i["default"],l={propagateEvent:function(e,t){if(this.__parent__===this)return;if(e.indexOf("change:")===0&&t.isModel){var n,r=t.__path().replace(this.__parent__.__path(),"").replace(/^\./,""),i=t.changedAttributes();for(n in i)arguments[0]="change:"+r+(r&&".")+n,this.__parent__.trigger.apply(this.__parent__,arguments);return}this.__parent__.trigger.apply(this.__parent__,arguments)},setParent:function(e){return this.__parent__&&this.off("all",this.propagate),this.__parent__=e,this._hasAncestry=!0,e!==this&&this.on("all",e.propagateEvent),e},setRoot:function(e){var t=this;t.__root__=e;var n=t.models||t.attributes||t.cache;return _.each(n,function(t,n){t&&t.isData&&t.setRoot(e)}),e},hasParent:function(e){var t=this;while(t!==e){t=t.__parent__;if(_.isUndefined(t))return!1;if(t===e)return!0;if(t.__parent__===t)return!1}return!0},deinitialize:function(){this.undelegateEvents&&this.undelegateEvents(),this.stopListening&&this.stopListening(),this.off&&this.off(),delete this.__parent__,delete this.__root__,delete this.__path,this.el&&(_.each(this.el.__listeners,function(e,t){this.el.removeEventListener&&this.el.removeEventListener(t,e,!1),this.el.detachEvent&&this.el.detachEvent("on"+t,e)},this),delete this.el.__listeners,delete this.el.__events,f(this.el).walkTheDOM(function(e){e.__lazyValue&&e.__lazyValue.destroy()&&n.__lazyValue.destroy()}),delete this.$el,delete this.el),this.deinitialized=!0,this.data&&this.data.deinitialize&&this.data.deinitialize(),_.each(this.models,function(e,t){e&&e.deinitialize&&e.deinitialize()}),_.each(this.attributes,function(e,t){e&&e.deinitialize&&e.deinitialize()}),this.cache&&(this.cache.collection.deinitialize(),this.cache.model.deinitialize()),this.__observers={},this.data={}}};_.extend(o.prototype,l),_.extend(u.prototype,l),_.extend(a.prototype,l),s.Model=o,s.Collection=u,s.ComputedProperty=a}),define("rebound-runtime/lazy-value",["rebound-data/rebound-data","exports"],function(e,t){function s(e,t){this.valueFn=e,this.context=t||null,_.bindAll(this,"value","set","addDependentValue","addObserver","notify","onNotify","destroy")}var n=e.Model,r=function(){},i=[];s.prototype={isLazyValue:!0,parent:null,children:null,observers:null,cache:r,valueFn:null,subscribers:null,_childValues:null,value:function(){var e=this.cache;if(e!==r)return e;var t=this.children;if(t){var n,s=this._childValues||new Array(t.length);for(var o=0,u=t.length;o<u;o++)n=t[o],s[o]=n&&n.isLazyValue?n.value():n;return this.cache=this.valueFn(s)}return this.cache=this.valueFn(i)},set:function(e,t,n){return this.context?this.context.set(e,t,n):null},addDependentValue:function(e){var t=this.children;return t?t.push(e):t=this.children=[e],e&&e.isLazyValue&&(e.parent=this),this},addObserver:function(e,t){var n=this.observers||(this.observers=[]),r,i;return!_.isObject(t)||!_.isString(e)?console.error("Error adding observer for",t,e):(t.__observers=t.__observers||{},t.__observers[e]=t.__observers[e]||[],r=t.__observers[e].push(this.notify)-1,i=t.get(this.path),t.__observers[e][r].type=i&&i.isCollection?"collection":"model",n.push({context:t,path:e,index:r}),this)},notify:function(e){try{var t=this.cache,n,i;if(t!==r){n=this.parent,i=this.subscribers,t=this.cache=r,n&&n.notify(this);if(!i)return;for(var s=0,o=i.length;s<o;s++)i[s](this)}}catch(u){console.log("KILLING OBSERVER",e),console.log(u.stack),this.destroy()}},onNotify:function(e){var t=this.subscribers||(this.subscribers=[]);return t.push(e),this},destroy:function(){_.each(this.children,function(e){e&&e.isLazyValue&&e.destroy()}),_.each(this.subscribers,function(e){e&&e.isLazyValue&&e.destroy()}),this.parent=this.children=this.cache=this.valueFn=this.subscribers=this._childValues=null,_.each(this.observers,function(e){_.isObject(e.context.__observers[e.path])&&delete e.context.__observers[e.path][e.index]}),this.observers=null}},t["default"]=s}),define("rebound-runtime/helpers",["rebound-runtime/lazy-value","rebound-runtime/utils","exports"],function(e,t,n){function u(e,t,n){if(e==null)throw new TypeError("findIndex called on null or undefined");if(typeof t!="function")throw new TypeError("predicate must be a function");var r=Object(e),i=r.length>>>0,s=arguments[1],o;for(var u=0;u<i;u++){o=r[u];if(t.call(s,o,u,r,n))return u}return-1}var r=e["default"],i=t["default"],s={},o={};s.registerPartial=function(e,t){t&&t.isHTMLBars&&typeof e=="string"&&(o[e]=t)},s.lookupHelper=function(e,t,n){return t=t||{},e=i.splitPath(e)[0],e==="attribute"?this.attribute:e==="if"?this.if:e==="unless"?this.unless:e==="each"?this.each:e==="with"?this.with:e==="partial"?this.partial:e==="length"?this.length:e==="on"?this.on:t.helpers&&_.isObject(n)&&_.isObject(t.helpers[n.cid])&&t.helpers[n.cid][e]||s[e]||!1},s.registerHelper=function(e,t,n){if(!_.isString(e)){console.error("Name provided to registerHelper must be a string!");return}if(!_.isFunction(t)){console.error("Callback provided to regierHelper must be a function!");return}if(s.lookupHelper(e)){console.error('A helper called "'+e+'" is already registered!');return}n=_.isArray(n)?n:[n],t.__params=n,s[e]=t},s.on=function(e,t,n,r){var s,o,u,a,f=e[0],l=e.length,c=t;l===2?(o=e[1],u=n.element,a=this.el||n.element):l===3&&(o=e[2],u=e[1],a=n.element),i(a).on(f,u,c,function(e){return e.context=n.context,n.helpers.__callOnComponent(o,e)})},s.length=function(e,t,n,r){return e[0]&&e[0].length||0},s.if=function(e,t,n,r){var i=e[0];if(i===undefined)return null;i.isModel&&(i=!0);if(_.isArray(i)||i.isCollection)i=i.length?!0:!1;return i==="true"&&(i=!0),i==="false"&&(i=!1),e.length>1?i?e[1]:e[2]||"":n.placeholder.__ifCache===i?null:(n.placeholder.__ifCache=i,i&&n.template?n.template.render(n.context,n,n.morph.contextualElement||n.morph.element):!i&&n.inverse?n.inverse.render(n.context,n,n.morph.contextualElement||n.morph.element):"")},s.unless=function(e,t,n,r){var i=e[0];if(i===undefined)return null;i.isModel&&(i=!0);if(_.isArray(i)||i.isCollection)i=i.length?!0:!1;return e.length>1?i?e[2]||"":e[1]:n.placeholder.__unlessCache===i?null:(n.placeholder.__unlessCache=i,!i&&n.template?n.template.render(n.context,n,n.morph.contextualElement||n.morph.element):i&&n.inverse?n.inverse.render(n.context,n,n.morph.contextualElement||n.morph.element):"")},s.each=function(e,t,n,i){if(_.isNull(e[0])||_.isUndefined(e[0]))return console.warn("Undefined value passed to each helper! Maybe try providing a default value?",n.context),null;var s=e[0].isCollection?e[0].models:e[0],o,a,f,l=function(e,t,n,r){return e.cid===r};n.placeholder.morphs=n.placeholder.morphs||[],_.each(s,function(e,t,i){if(!_.isFunction(e.set))return console.error("Model ",e,"has no method .set()!");f=u(n.placeholder.morphs,l,e.cid);if(f!==t){var s=new r(function(){return n.template.render(n.template.blockParams===0?e:n.context,n,n.morph.contextualElement||n.morph.element,[e])});f>-1&&n.placeholder.morphs[f].destroy(),n.placeholder.morphs[t]&&n.placeholder.morphs[t].destroy(),n.placeholder.insert(t,s.value()),n.placeholder.morphs[t].cid=e.cid}},this),o=s.length,a=n.placeholder.morphs.length-1;for(a;o<=a;a--)n.placeholder.morphs[a].destroy();return null},s.with=function(e,t,n,r){return n.template.render(e[0],n,n.morph.contextualElement||n.morph.element)},s.partial=function(e,t,n,r){var i=o[e[0]];if(i&&i.isHTMLBars)return i.render(n.context,r)},n["default"]=s}),define("rebound-runtime/context",["rebound-runtime/utils","rebound-data/rebound-data","exports"],function(e,t,n){var r=e["default"],i=t.Model,s=i.extend({listen:function(){this.listenTo(this,"change",this._onModelChange),this.listenTo(this,"add remove",this._onCollectionChange),this.listenTo(this,"reset",this._onReset)},_onReset:function(e,t){if(e&&e.isModel)return this._onModelChange(e,t);if(e.isCollection)return this._onCollectionChange(e,t)},_onModelChange:function(e,t){var n=e.changedAttributes();n&&this._notifySubtree(e,n,"model")},_onCollectionChange:function(e,t,n){var r={},i=this;e.isCollection&&(n=t,t=e),r[t.__path()]=t,t._timeout&&(clearTimeout(t._timeout),t._timeout=undefined),t._timeout=setTimeout(function(){i._notifySubtree(i,r,"collection")},20)},_notifySubtree:function(t,n,i){var s=this,o=t.__path(),u=r.splitPath(o),a=_.keys(n),f=0,l=u.length,c,h;for(f;f<=l;f++){c=[],h=[],_.each(a,function(e){c.push(((o&&o+"."||"")+e).replace(s.__path(),"").replace(/\[([^\]]+)\]/g,".$1").replace(/^\./,"")),c.push(((o&&o+"."||"")+e).replace(s.__path(),"").replace(/\[[^\]]+\]/g,".@each").replace(/^\./,"")),c=_.uniq(c)}),this.notify(s,c,i),s=f===l||s.isModel&&s.get(u[f])||s.isCollection&&s.at(u[f]);if(s===undefined)break}},notify:function(t,n,r){n=_.isArray(n)?n:[n],_.each(n,function(e){_.each(t.__observers,function(t,n){(n===e||n.indexOf(e+".")===0||e.indexOf(n+".")===0)&&_.each(t,function(e,t){_.isFunction(e)&&(e.type!=="collection"||r==="collection")&&e()})})})}});n["default"]=s}),define("rebound-runtime/hooks",["rebound-runtime/lazy-value","rebound-runtime/utils","rebound-runtime/helpers","rebound-runtime/context","exports"],function(e,t,n,r,i){function c(e,t){return _.isFunction(e.get(t,{raw:!0}))}function h(e,t){var n=new s(function(){return e.get(t)},e);return n.path=t,n.addObserver(t,e),n}function p(e,t,n,r,i,u,a,f){var l;return u.morph=u.placeholder=e&&!e.tagName&&e||!1,u.element=e&&e.tagName&&e||!1,u.params=r,u.hooks=a.hooks,u.helpers=a.helpers,u.context=n,u.dom=a.dom,u.path=t,u.hash=i||[],u.lazyValue=new s(function(){var e=[],s={},l,c=o.splitPath(t),h,p;return c.shift(),c=c.join("."),p=o.splitPath(c),h=p.shift(),p=p.join("."),_.each(r,function(t,n){e.push(t&&t.isLazyValue?t.value():t)}),_.each(i,function(e,t){s[t]=e&&e.isLazyValue?e.value():e}),l=f.apply(n.__root__||n,[e,s,u,a]),l&&c?l.get(c):l}),u.lazyValue.path=t,r.forEach(function(e){e.isLazyValue&&e.onNotify(function(){u.lazyValue.value()}),e&&e.isLazyValue&&u.lazyValue.addDependentValue(e)}),u.lazyValue}function d(e,t){e.forEach(function(e){e.removedNodes&&_.each(e.removedNodes,function(e,t){o(e).walkTheDOM(function(e){e.__lazyValue&&e.__lazyValue.destroy()&&e.__lazyValue.destroy()})})})}var s=e["default"],o=t["default"],u=n["default"],a=r["default"],f={},l={abbr:1,"accept-charset":1,accept:1,accesskey:1,action:1,align:1,alink:1,alt:1,archive:1,axis:1,background:1,bgcolor:1,border:1,cellpadding:1,cellspacing:1,"char":1,charoff:1,charset:1,checked:1,cite:1,"class":1,classid:1,clear:1,code:1,codebase:1,codetype:1,color:1,cols:1,colspan:1,compact:1,content:1,coords:1,data:1,datetime:1,declare:1,defer:1,dir:1,disabled:1,enctype:1,face:1,"for":1,frame:1,frameborder:1,headers:1,height:1,href:1,hreflang:1,hspace:1,"http-equiv":1,id:1,ismap:1,label:1,lang:1,language:1,link:1,longdesc:1,marginheight:1,marginwidth:1,maxlength:1,media:1,method:1,multiple:1,name:1,nohref:1,noresize:1,noshade:1,nowrap:1,object:1,onblur:1,onchange:1,onclick:1,ondblclick:1,onfocus:1,onkeydown:1,onkeypress:1,onkeyup:1,onload:1,onmousedown:1,onmousemove:1,onmouseout:1,onmouseover:1,onmouseup:1,onreset:1,onselect:1,onsubmit:1,onunload:1,profile:1,prompt:1,readonly:1,rel:1,rev:1,rows:1,rowspan:1,rules:1,scheme:1,scope:1,scrolling:1,selected:1,shape:1,size:1,span:1,src:1,standby:1,start:1,style:1,summary:1,tabindex:1,target:1,text:1,title:1,type:1,usemap:1,valign:1,value:1,valuetype:1,version:1,vlink:1,vspace:1,width:1},v=new MutationObserver(d);f.get=function(t,n,r){return n.blockParams||(n.blockParams=new a),r==="this"&&(r=""),h(n,r)},f.set=function(t,n,r,i){n.blockParams||(n.blockParams=new a)},f.concat=function(t,n){if(n.length===1)return n[0];var r=new s(function(){var e="";for(var t=0,r=n.length;t<r;t++)e+=n[t].isLazyValue?n[t].value():n[t];return e},n[0].context);for(var i=0,o=n.length;i<o;i++)n[i].isLazyValue&&(n[i].onNotify(function(){r.notify()}),r.addDependentValue(n[i]));return r},f.subexpr=function(t,n,r,i,s){var o=u.lookupHelper(r,t,n),a;o?a=p(!0,r,n,i,s,{},t,o):a=h(n,r);for(var f=0,l=i.length;f<l;f++)i[f].isLazyValue&&(i[f].onNotify(function(){a.notify()}),a.addDependentValue(i[f]));return a},f.block=function(t,n,r,i,s,o,a,f){var l={morph:n,template:a,inverse:f},c,h,d=v,m=u.lookupHelper(i,t,r);if(!_.isFunction(m))return console.error(i+" is not a valid helper!");c=p(n,i,r,s,o,l,t,m),c&&(c.onNotify(function(e){var t=e.value();t=_.isUndefined(t)?"":t,_.isNull(t)||n.update(t)}),h=c.value(),h=_.isUndefined(h)?"":h,_.isNull(h)||n.append(h),n._parent&&(n._parent.__lazyValue=c,setTimeout(function(){n.contextualElement&&d.observe(n.contextualElement,{attributes:!1,childList:!0,characterData:!1,subtree:!0})},0)))},f.inline=function(t,n,r,i,s,o){var a,f,l=v,c=u.lookupHelper(i,t,r);if(!_.isFunction(c))return console.error(i+" is not a valid helper!");a=p(n,i,r,s,o,{},t,c),a&&(a.onNotify(function(e){var t=e.value();t=_.isUndefined(t)?"":t,_.isNull(t)||n.update(t)}),f=a.value(),f=_.isUndefined(f)?"":f,_.isNull(f)||n.append(f),n._parent&&(n._parent.__lazyValue=a,setTimeout(function(){n.contextualElement&&l.observe(n.contextualElement,{attributes:!1,childList:!0,characterData:!1,subtree:!0})},0)))},f.content=function(t,n,r,i){var s,o,a=v,f=u.lookupHelper(i,t,r);s=h(r,i),s&&(s.onNotify(function(e){var t=e.value();t=_.isUndefined(t)?"":t,_.isNull(t)||n.update(t)}),o=s.value(),o=_.isUndefined(o)?"":o,_.isNull(o)||n.append(o),n._parent&&(n._parent.__lazyValue=s,setTimeout(function(){n.contextualElement&&a.observe(n.contextualElement,{attributes:!1,childList:!0,characterData:!1,subtree:!0})},0)))},f.element=function(t,n,r,i,s,o){var a=u.lookupHelper(i,t,r),f,l;a?f=p(n,i,r,s,o,{},t,a):f=h(r,i),f.onNotify(function(e){e.value()}),l=f.value()},f.attribute=function(t,n,r,i){var u=new s(function(){var e=i.value(),t,s=n.getAttribute("type"),a={"null":!0,text:!0,email:!0,password:!0,search:!0,url:!0,tel:!0,hidden:!0},f;return n.tagName==="INPUT"&&a[s]&&r==="value"?(u.inputObserver||(o(n).on("change input propertychange",function(e){i.set(i.path,this.value)}),u.inputObserver=!0),_.isUndefined(e)?n.removeAttribute(r):n.setAttribute(r,e),f=e,n.value=f?f:""):n.tagName!=="INPUT"||s!=="checkbox"&&s!=="radio"||r!=="checked"?(_.isString(e)&&(e=e.trim()),e||(e=undefined),_.isUndefined(e)?n.removeAttribute(r):n.setAttribute(r,e),e):(u.eventsBound||(o(n).on("change propertychange",function(e){i.set(i.path,this.checked?!0:!1,{quiet:!0})}),u.eventsBound=!0),e?n.setAttribute(r,e):n.removeAttribute(r),n.checked=e?!0:undefined)});return i.onNotify(function(){u.value()}),u.addDependentValue(i),u.value()},f.component=function(e,t,n,r,i,o){var u,a,f,c={},p={},d;d=new s(function(){_.each(i,function(e,t){c[t]=e.isLazyValue?e.value():e}),Rebound.seedData=c,a=document.createElement(r),Rebound.seedData={},u=a.__component__,_.each(c,function(e,t){i[t]&&i[t].isLazyValue&&(p[t]=h(u,t))}),_.each(p,function(e,t){i[t].children===null&&e.onNotify(function(){i[t].set(i[t].path,e.value())}),i[t].onNotify(function(){e.set(t,i[t].value())}),e.value(),i[t].addObserver(i[t].path,n),e.addObserver(t,u),console.log(u.__name,u.cid,u)}),u.listenTo(u,"change",function(e){var t=u.toJSON();if(_.isString(t))return;_.each(t,function(e,t){if(_.isObject(e))return;e=_.isObject(e)?JSON.stringify(e):e;try{l[t]?a.setAttribute(t,e):a.dataset[t]=e}catch(n){console.error(n.message)}})});var t=u.toJSON();return _.each(t,function(e,t){if(_.isObject(e))return;e=_.isObject(e)?JSON.stringify(e):e;if(!_.isNull(e)&&!_.isUndefined(e))try{l[t]?a.setAttribute(t,e):a.dataset[t]=e}catch(n){console.error(n.message)}}),f=a.getElementsByTagName("content")[0],o&&_.isElement(f)&&f.appendChild(o.render(n,e,f)),a}),d&&(d.onNotify(function(e){var n=e.value();n!==undefined&&t.update(n)}),value=d.value(),value!==undefined&&t.append(value))},i["default"]=f}),define("rebound-runtime/env",["morph/dom-helper","rebound-runtime/hooks","rebound-runtime/helpers","exports"],function(e,t,n,r){var i=e["default"],s=t["default"],o=n["default"],u={registerPartial:o.registerPartial,registerHelper:o.registerHelper,helpers:o.helpers,hooks:s};u.hydrate=function(t,n){return function(e,n){var r=n||{},u=e.el||document.documentElement;return r.helpers=r.helpers||{},r.hooks=r.hooks||{},r.dom=r.dom||new i,r.helpers=_.defaults(r.helpers,o.helpers),r.hooks=_.defaults(r.hooks,s),t.render(e,r,u)}},r["default"]=u}),define("rebound-runtime/component",["rebound-runtime/utils","rebound-runtime/env","rebound-runtime/context","exports"],function(e,t,n,r){var i=e["default"],s=t["default"],o=n["default"];if(Rebound.Component)throw"Rebound is already loaded on the page!";if(!window.Backbone)throw"Backbone must be on the page for Rebound to load.";var u=o.extend({isComponent:!0,constructor:function(e){e=e||(e={}),_.bindAll(this,"__callOnComponent"),this.cid=_.uniqueId("component"),this.attributes={},this.changed={},this.helpers={},this.__parent__=this.__root__=this,this.listen(),this.set(this.defaults||{}),this.set(e.data||{}),this.helpers.__callOnComponent=this.__callOnComponent,this.routes=_.defaults(e.routes||{},this.routes),_.each(this.routes,function(e,t,n){if(typeof e!="string")throw"Function name passed to routes in  "+this.__name+" component must be a string!";if(!this[e])throw"Callback function "+e+" does not exist on the  "+this.__name+" component!"},this),this.el=e.outlet||undefined,this.$el=_.isUndefined(window.Backbone.$)?!1:window.Backbone.$(this.el),_.isFunction(this.createdCallback)&&this.createdCallback.call(this);if(!e.template&&!this.template)throw"Template must provided for "+this.__name+" component!";this.template=e.template||this.template,this.template=typeof e.template=="string"?Rebound.templates[this.template]:s.hydrate(this.template),this.el.appendChild(this.template(this,{helpers:this.helpers},this.el)),this.initialize()},$:function(e){return this.$el?this.$el.find(e):console.error("No DOM manipulation library on the page!")},trigger:function(e){this.el&&i(this.el).trigger(e,arguments),Backbone.Model.prototype.trigger.apply(this,arguments)},__callOnComponent:function(e,t){if(!_.isFunction(this[e]))throw"ERROR: No method named "+e+" on component "+this.__name+"!";return this[e].call(this,t)},_onAttributeChange:function(e,t,n){}});u.extend=function(e,t){var n=this,r,i={trigger:1,constructor:1,get:1,set:1,has:1,extend:1,escape:1,unset:1,clear:1,cid:1,attributes:1,changed:1,toJSON:1,validationError:1,isValid:1,isNew:1,hasChanged:1,changedAttributes:1,previous:1,previousAttributes:1},s={routes:1,template:1,defaults:1,outlet:1,url:1,urlRoot:1,idAttribute:1,id:1,createdCallback:1,attachedCallback:1,detachedCallback:1};e.defaults={},_.each(e,function(e,n,r){if(s[n])return;if(!_.isFunction(e)||e.isModel||e.isComponent||_.isFunction(e)&&e.length===0&&e.toString().indexOf("return")>-1)r.defaults[n]=e,delete r[n];if(i[n])throw"ERROR: "+n+" is a reserved method name in "+t.__name+"!"},this),e&&_.has(e,"constructor")?r=e.constructor:r=function(){return n.apply(this,arguments)};var o=function(){this.constructor=r};return o.prototype=n.prototype,r.prototype=new o,e&&_.extend(r.prototype,e,t),r.__super__=n.prototype,r},r["default"]=u}),define("rebound-runtime/register",["rebound-runtime/component","exports"],function(e,t){var n=e["default"];t["default"]=function(t,r){var i=r.prototype,s=r.template,o=r.style,u=n.extend(i,{__name:t}),a=Object.create(HTMLElement.prototype,{});return a.createdCallback=function(){this.__component__=new u({template:s,outlet:this,data:Rebound.seedData})},a.attachedCallback=function(){i.attachedCallback&&i.attachedCallback.call(this.__component__)},a.detachedCallback=function(){i.detachedCallback&&i.detachedCallback.call(this.__component__),this.__component__.deinitialize()},a.attributeChangedCallback=function(e,t,n){this.__component__._onAttributeChange(e,t,n),i.attributeChangedCallback&&i.attributeChangedCallback.call(this.__component__,e,t,n)},document.registerElement(t,{prototype:a})}}),define("rebound-router/rebound-router",["rebound-runtime/utils","exports"],function(e,t){function r(e,t,n){var r,i,s,o=this;return!n&&this.current&&(r=this.current.__name,_.each(this.current.__component__.routes,function(e,t){var n=o._routeToRegExp(t).toString();Backbone.history.handlers=_.filter(Backbone.history.handlers,function(e){return e.route.toString()!==n}),delete o["_function_"+t]}),this.current.__component__.deinitialize(),setTimeout(function(){document.getElementById(r+"-css").setAttribute("disabled",!0)},500)),i=new e,i.__name=t,s=n?document.querySelector(n):document.getElementsByTagName("content")[0],s.innerHTML="",s.appendChild(i),document.body.scrollTop=0,_.each(i.__component__.routes,function(e,t){var n="_function_"+t,r;o[n]=function(){i.__component__[e].apply(i.__component__,arguments)},o.route(t,e,this[n])},this),n||(window.Rebound.page=(this.current=i).__component__),i}function i(e,t,i){var s=this.config.jsPath.replace(/:route/g,t).replace(/:app/g,e),o=this.config.cssPath.replace(/:route/g,t).replace(/:app/g,e),u=!1,a=!1,f=document.getElementById(e+"-css"),l=document.getElementById(e+"-js"),c=this,h;f?(f.removeAttribute("disabled"),u=!0):(f=document.createElement("link"),f.setAttribute("type","text/css"),f.setAttribute("rel","stylesheet"),f.setAttribute("href",o),f.setAttribute("id",e+"-css"),document.head.appendChild(f),n(f).on("load",function(t){(u=!0)&&a&&(r.call(c,h,e,i),!i&&c.config.triggerOnFirstLoad&&Backbone.history.loadUrl(Backbone.history.fragment),i||(c.config.triggerOnFirstLoad=!0),document.body.classList.remove("loading"))})),require._defined||_.isUndefined(require)?(l=document.createElement("script"),l.setAttribute("type","text/javascript"),l.setAttribute("src","/"+s+".js"),l.setAttribute("id",e+"-js"),document.head.appendChild(l),n(l).on("load",function(t){require([s],function(t){(a=!0)&&(h=t)&&u&&(r.call(c,h,e,i),!i&&c.config.triggerOnFirstLoad&&Backbone.history.loadUrl(Backbone.history.fragment),i||(c.config.triggerOnFirstLoad=!0),document.body.classList.remove("loading"))})})):require([s],function(t){(a=!0)&&(h=t)&&u&&(r.call(c,h,e,i),!i&&c.config.triggerOnFirstLoad&&Backbone.history.loadUrl(Backbone.history.fragment),i||(c.config.triggerOnFirstLoad=!0),document.body.classList.remove("loading"))})}var n=e["default"];if(Rebound.Router)throw"Rebound is already loaded on the page!";_.isObject(window.Rebound)||(window.Rebound={});if(!window.Backbone)throw"Backbone must be on the page for Rebound to load.";var s=Backbone.Router.extend({routes:{"*route":"wildcardRoute"},wildcardRoute:function(e){var t,n;e=e||"",t=n=e?e.split("/")[0]:"index",_.any(this.config.handlers,function(n){if(n.route.test(e))return t=n.primaryRoute,!0});if(this.current&&this.current.name===n)return Backbone.history.loadUrl("404");document.body.classList.add("loading"),i.call(this,t,n)},initialize:function(e){this.config=e.config,this.config.handlers=[];var t=new RegExp("^(?:[a-z]+:)?//","i"),r=this;_.each(this.config.routeMapping,function(e,t){_.isRegExp(t)||(t=r._routeToRegExp(t)),r.config.handlers.unshift({route:t,primaryRoute:e})},this),n(document).on("click","a",function(e){var n=e.target.getAttribute("href");n!=="#"&&n!==""&&!t.test(n)&&(e.preventDefault(),r.navigate(n,{trigger:!0}))}),_.each(this.config.globalComponents,function(e,t){i.call(r,t,t,e)}),Rebound.Component.prototype.router=this,Backbone.history.start({pushState:!0,root:this.config.root})}});t["default"]=s}),define("rebound-runtime/rebound-runtime",["rebound-runtime/env","rebound-runtime/utils","rebound-runtime/register","rebound-data/rebound-data","rebound-runtime/component","rebound-router/rebound-router","exports"],function(e,t,n,r,i,s,o){if(!window.Backbone)throw"Backbone must be on the page for Rebound to load.";var u=e["default"],a=t["default"],f=n["default"],l=r.Model,c=r.Collection,h=r.ComputedProperty,p=i["default"],d=s["default"],v=JSON.parse(document.getElementById("Rebound").innerHTML);window.Backbone.ajax=window.Backbone.$&&window.Backbone.$.ajax&&window.Backbone.ajax||a.ajax,window.Rebound={registerHelper:u.registerHelper,registerPartial:u.registerPartial,registerComponent:f,Model:l,Collection:c,ComputedProperty:h,Component:p,Config:v},window.Rebound.router=new d({config:v}),o["default"]=Rebound}),function(){require(["rebound-runtime/rebound-runtime"],function(e){})}()}),require.config({baseUrl:"/"}),require(["Rebound"]);